function [Y,Xf,Af] = ESPER_TA_10_Other_1(X,~,~)
%ESPER_TA_10_OTHER_1 neural network simulation function.
%
% Auto-generated by MATLAB, 15-Feb-2021 18:30:03.
% 
% [Y] = ESPER_TA_10_Other_1(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 7xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.999999984769129;-0.999540494077341;-75.751;0;29.715;-0.9;-0.1386];
x1_step1.gain = [1.00000001035699;1.00022983623563;0.0140762793578401;0.000302617642608564;0.251952632905014;0.0422119037568594;0.00826143816767911];
x1_step1.ymin = -1;

% Layer 1
b1 = [5.3075433797479316667;-1.8124234694043299676;1.3242234458957049537;3.5395622240294808414;3.8006801095898699039;-0.59026820181613104399;-1.7061849958718744436;-0.88783589457571654435;-1.9431453670548810564;1.7937084855526868044;1.9207386855805010928;1.880019493166199096;2.0080243516619504796;0.47983251688309602745;4.8839215489898961664;-0.39492821512664477712;0.012044382408152398342;-1.0078899643931484853;2.3094501860996894393;-0.88172512555141291379;-0.72298308213836781633;0.15827274034383917445;0.14595744441876923325;1.7454548588016733923;-1.0331782475133555188;-0.00090242484158685205148;-0.034511496593070005445;-1.0213355062845683729;-1.5330422030353174634;1.2435751339934508763;1.5700062242792554024;0.0037266513302840397967;-0.46698101016805637631;-1.0166667989540358885;1.6678461169222675853;-3.0917992883522438241;1.1746265431900497767;-3.0629933167616609779;-0.41017648198624157008;-1.4496508533129039975];
IW1_1 = [-1.815430038764597187 -2.6326171620268543627 -0.64857465583141937771 -0.8203960222615996889 0.64374277138950608546 -1.4893096101182889957 -1.0668418530618066775;0.52258195651675931614 -2.0114628435525947481 1.2185113753042129403 0.46172049388418640037 1.0771588177471236314 -0.032683951203472096092 -1.6183544024298479602;-0.83639763584309678723 3.5469597815537134977 -1.6545311580463555323 -0.26137663394571375441 -3.2696947811604468725 -0.25570007087043389316 2.7093260773750884596;-1.8529301969329772248 -2.5117850713958391751 -0.49260152868611584154 -1.2668577952413269117 2.7796212723824962332 -0.68301505672498685762 -0.58380331624828918358;-0.49150825902624628583 -0.50042736719701907955 4.4533089469403437377 -0.87107783134236971279 -1.0513864766779033033 2.2396659702537649039 -1.8206509685816225641;0.021041845113673032786 -1.0829058761789203125 0.46151049685927136856 0.024173571378357426587 -0.61425005554463385504 -0.2308192109152669147 0.45581006089210829302;2.0956452748807348208 0.66828148181116964199 1.2695818107929692786 1.0243676966813330953 1.4926381325797506427 1.3551158278741184393 -2.0031214911356567399;1.2080166315593630078 1.425625607970972597 -1.575208972241827432 -0.92829866383971804122 -2.2803136634896401524 0.89574253231315859036 1.3376919543007079749;-0.77206442713048417659 -0.074947324587131783358 1.2809317114570235585 -1.9155097777184835195 0.48975799951840903734 -0.70043763307183548594 1.8954991397797291697;-0.83283100996901304747 -0.13044549539636196567 0.98790581690554413186 0.69053050641151758615 1.0564697520684807053 0.13033130394351916115 -0.58590301593016902437;-0.5803784004624106263 -0.5538766647847268576 -1.3180086239989732277 -0.99437699865779716202 0.65540444469210568101 -1.8534425863728039019 1.1317842139077376462;-0.59292692740905894588 -0.69379240427330268748 1.547332137200824187 0.1209622333643104175 2.2768094209437887976 -0.85656751745551018562 -0.9957931718214704242;0.65619484360733804085 0.49425179078261222143 -1.3099621504588694343 0.11574730368959390558 -0.85500334631044472289 0.6705151627975688422 1.4389523342643537607;-0.66227834546700159457 -0.12659326796312825314 -0.32448970012685351971 -0.54359221172917926435 0.06621276060057181001 -0.27003398247816162714 0.8301692504237188075;-6.0447847588697989352 -3.3014974553614164776 1.8902494649693906137 4.8459516024473439089 -1.7528389259710974724 -1.963109247964778703 1.4830678850531426871;0.086028054694733888108 0.42860378881197797041 0.037183094383864620514 0.095211118026714600115 -0.71672929059022305598 0.052952821933530361265 0.95099937247001875562;-0.80895177733962397859 -0.45395696055795042856 1.1471149304608969643 0.075623375695973688027 2.0844024842466635228 0.92280005590816260863 -0.57936921800641494329;0.31251800200427104492 0.22157134831867500435 -1.4082226902558157011 1.4232896373662577982 3.0697923598782224097 0.97047392296385059929 -0.47162281100953135082;1.0709275162984883689 0.45351225940134221037 1.5487096047178323666 -2.6552046638778792342 -1.8103758752522782771 0.2486082872705933644 5.0153523917772604435;-0.045212957623174419852 0.55434723499542204461 -3.0616622346314255054 -0.58156419934405356731 -2.8658975782718587588 -1.3130932802701031914 0.2795562912198367167;-0.23396703330296156342 -0.023874585305171246163 -1.4899488649700736165 -0.28423963113841071992 2.4555799232700907808 -0.433134310716319193 0.28538271756609617791;-0.032527220907960750773 0.056860833283134223914 0.39176195969226063065 0.91953291381499846491 -1.0116855397443749176 0.91215088119580611803 0.39529112266886157201;-0.55379222115433424101 -0.3320969681648813232 0.32414773241675576276 -1.2028861682779841136 -2.6693717103837246718 -0.65794084823248710769 -0.32672470926162477944;0.045636165165618296224 0.10985303319500847041 -0.47315656493308461128 0.34159848987658242292 -0.79357600273284734094 0.86993416244151799965 2.0603422801824864408;-0.61875370965112019839 0.48256643135376942055 -3.8777272498786223842 -0.90946809511859705299 0.78896058904395871547 -0.44362610787407857904 -1.4754893425499895354;0.20277494652378610929 0.054697644073619981764 -1.7716027708451065337 1.2123514868091025409 -2.526354425958424077 0.96468482348921646974 1.8319762254575517879;0.036007853097637126938 0.14382305799935551915 0.16172922768297970375 -0.075178236805958337241 1.6099335119232505154 0.29824535883966918348 -0.91162720957723497595;-0.014335280304787959352 1.4815368430419417756 -3.4595909056291609396 -0.5515874296376105379 -0.015037324383889556778 2.1967727803321519531 1.8468253849320397375;-2.2571212190299214662 1.6107712767619517535 -0.67244188838256013785 -1.9581489439751404991 2.4404700082843167053 1.1722393851423498212 -1.5062234648019903194;4.2103357629740418844 -1.7771673428222642954 4.1438847937811722488 0.37696042559686021578 -3.6936968388992554857 -1.487933664242884868 -0.77499010784981836597;0.46906264645699630167 -1.9855380645179356858 -2.3471683537163250399 1.9498004237178023779 -5.1461505548464181459 -0.52505199714763295393 -2.0082522422635720183;-0.32277584037954526464 0.050367467093883781792 -0.1732024539045521061 -0.2652523222955642801 -1.6275067121238713241 0.16937091613494700826 0.54133213766533494482;0.06696831026495704553 -0.028058181786057401208 0.55242044167855564041 0.5301978068093881058 -0.26115244641168539053 1.4049028984695912659 0.99530198854920126639;-0.61889430195917871647 0.50535949177889494255 -3.8590257710638242727 -0.90345392659748835484 0.71250291781902796995 -0.46418482200093574841 -1.5317610728673956011;0.20325788874145520047 0.10686229957455924133 -0.55915163955320035249 0.91092399011145919197 -0.073976009666413405919 -1.1677868469795276152 -1.4296332139350920176;-0.07956003370433449573 -0.38176967159110497541 -2.5893322500735296288 -1.3671844919673599161 4.4561787764607148077 -0.23046565218443643142 -0.65258081227922803969;0.34009676282800033187 0.13723893228871403283 0.18161209596253324872 0.12494694352524191028 -0.83498320830085970279 -0.051409396535465515243 0.30614948177415346464;-1.0545994448468705151 -0.51143657866492009401 0.10770296912892519947 -1.4275383323769257338 0.73672003969363941689 0.33346908235260502851 -0.98700684923399184534;0.092075668489417700213 -2.255668395275751692 0.7356333046984887547 0.34091905945925099486 -3.7594352656367107102 0.32629985902901914585 1.4067261300841047422;-1.5732652266190449986 0.83150226543241401167 2.8014317066412997015 2.2562408533518092391 -0.58033429901272359785 -0.53034547861259051516 -3.9966343225020652952];

% Layer 2
b2 = 3.6873837767460417858;
LW2_1 = [-2.3163838426188307906 -0.17761101180932151178 0.040483547105315070835 0.52360860098768013948 -0.18967979949789662286 0.95061222619270180356 -0.10950487299866312751 -0.10282687404638139739 0.22741406365308128312 -0.49969724858698555403 0.17884653234597208682 0.58814298570110368214 -0.1533968810577815145 -0.87679661412060538872 -0.01011207934087769364 0.94594034139226779168 -0.21865839378593537878 -0.2797112500995204698 0.021982105320319286768 -0.090979958180045880645 0.34745431234875528981 -0.57796333211061112767 -0.3727733915342928972 0.22385124172174070134 -1.1009831948274604319 0.15249392007970730134 1.3832313123419908152 -0.043257724610645073571 -0.039223813252074059277 -0.032483291809318949606 -0.027968278623954949402 0.81219473088265625726 0.70997804036534273298 1.0471207854719606356 0.48177377876572274884 -0.090711083807165068804 -2.0060959255701864556 -0.37324970632823434302 -0.10997011801593888081 -0.020385181001581192256];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00492610837438424;
y1_step1.xoffset = 2075.6;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
