function [Y,Xf,Af] = ESPER_silicate_10_Other_3(X,~,~)
%ESPER_SILICATE_10_OTHER_3 neural network simulation function.
%
% Auto-generated by MATLAB, 15-Feb-2021 18:30:41.
% 
% [Y] = ESPER_silicate_10_Other_3(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 7xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.999999984769129;-0.999998793562952;-77.961;0;29.715;-0.04979;-0.9];
x1_step1.gain = [1.00003298043486;1.00000060321889;0.0138606862425759;0.000266418009857466;0.193068829037552;0.568038194888224;0.0415843642790311];
x1_step1.ymin = -1;

% Layer 1
b1 = [-7.2082713960044015877;-10.485639997274397217;0.2368874124042032181;6.5136457927488331521;0.32632161395429776229;-2.6481366332199760549;-23.720805580787327926;0.57523447036541497379;-3.0641600215548741026;-3.3533979909633915284;-0.74029285665531563421;-1.6529315784935834088;0.11014670507467215488;-2.0804286033449432836;-0.49201635330908627397;-0.22592819984003062461;-0.047825636590880321597;1.5228053515511794647;-0.2270658998165646647;-1.5204718515629067621;-1.7871915494542858216;-0.82391105790039831369;-1.7559499351914016341;-0.50424886604636776077;-5.4058913522444687061];
IW1_1 = [-2.9745005952100358471 5.4500700192283035861 -2.4329274586418629944 1.0574301183148124839 2.423214539694608316 0.37586231964769900582 -0.084204690194489922872;-5.266037562249819004 -8.7722392244800033723 -1.4460941747257687329 -0.84336229320690758726 -0.067142376284021254573 0.017871595107307410022 0.4120136208460706273;-0.5379204870698879315 -0.48761060442153519867 -0.615512739823610322 0.82747103946849398515 -4.8703634328364344697 0.44129775878507493392 0.48917798555672975525;-0.50561742841154710959 0.046998650030452858439 9.3086909272999402987 -0.81440771506400533308 0.078036610796159672221 0.11699163933838140073 0.23184250722389232457;0.34444377990027896796 0.12276159745655558508 0.11867530808939047438 1.4687477225889618015 -3.9454206983999693392 0.37896277713940107468 -0.11010131044985731197;0.96720352059888659024 1.0390559728424384467 -1.7134187214702907287 -1.2194603118265876507 -0.91570682728768215686 -0.35080796903526562103 -1.3136693919051143364;-2.7747440360457877873 11.033881773223068734 -17.59641723208912012 -0.26197972458250884387 2.6989820821544530105 -0.47457162646160910846 0.37912937028625537383;0.35498930946197854164 0.012209828285789705096 0.32635929482684916669 -0.26964637926490470088 -4.0126945179228821203 -0.51462182487456875624 -0.62883182884427379911;-0.10746066047643446084 -0.068362130276122048955 1.0251263729823392179 -2.6326650065285703839 7.5028385420794059257 0.66115248502425993937 1.3877007757053092529;0.21722355282107499996 0.80212552275538162583 5.922015653744451491 -0.71927055054260191636 -3.2985714825183918286 -0.10930726616678962393 -0.87216113862578059646;-0.11620603281845316712 -0.050645938938010302832 -0.82038145641205650893 -1.3427490050526666998 -4.5358619989521349325 -0.61855993467179526402 -0.67944787932352779247;-0.15754946715202861052 -0.33317945525149295083 -1.7921267464853751772 -0.17009353999473528218 -1.2281159869572031429 -0.53396485453741560079 -0.24090934793447721374;-0.21028263518669879084 0.024583400549244533578 -2.2834339910219663139 0.1540380080391517692 1.9704654063773241468 -0.28898256830469432055 -0.18817876601234301281;-0.16423360108858847672 -0.010387326535198441665 -2.1005452954756167472 0.31871418414975427602 3.915012158212412885 0.067552826989038389227 0.56459757870108329136;-0.4572510693381386937 -0.15840694452842582485 0.037350867959522936201 -1.4841815472597521541 -1.0026551717373592965 -0.29288452112360191526 0.27639947399680864226;0.089318798990343284405 -0.35747532330942743961 0.049429522552274791913 0.14336461350966051009 -0.41690996070968999732 -0.61952447945262956175 -0.4558004702093628735;-0.86319584596475407157 -1.5318643474426070217 -0.71193938497683517674 0.39912412331445590308 0.41342983096066909798 -0.45279116734171631631 0.40963418407096474638;0.38700132490779470817 -0.075178963145252145073 -0.11442171395565803316 0.6027028576106948643 0.65043686891049834475 -0.26348972490972083493 -0.73593136895934729846;0.38356082777080657831 -0.046155581265143415248 -1.8543518037300008583 -0.042543754611773433594 0.26044274388964450129 -0.55336251060437902094 -0.27204362274643084652;-0.73552404107034086156 -2.2980960713169880094 0.15789173124340283305 0.87232231067692767024 1.4622804309495294195 0.69979648585643894343 -0.16993720281529792193;-0.14272943582072178392 -0.55667737289993157734 0.65256270912605895962 0.91205118032900334146 2.7742354661540256089 1.7335610306438959949 -0.2624596950472332102;-1.0706074552215103513 0.95894553918041280927 0.36602271152361665063 -0.61094971530021735528 -0.42456431939993238833 0.50151292532773783517 -0.40776153533492315306;-0.30126236752688939635 -0.10110699984135368412 0.020212233553707006917 -0.78573944816902452359 -2.7757949117886422385 0.12969007784526304095 0.46356325385003199768;-0.32682224932258113759 -0.76736184291234788013 -0.4125563338395151769 -0.065114276256207942462 -0.12644989105706050392 -0.29764397557138866368 -0.020583645992690451781;-11.840510720850494053 3.3823880091021343297 6.8710763784514146124 0.10875373352043000985 1.4558288015853260156 -0.45828966547166649637 -0.80105452954538824972];

% Layer 2
b2 = [-9.4025440187829616434;1.8228466662988322966;-1.8380891766361147077;-12.194436320906714144;14.234559451766498839;-5.3655385674202262791;3.1003265949732230489;6.6608851644976789785;-10.921783016316730652;-4.4109434918945096271;-1.7569627960766729391;-26.297930162142488797;-3.6926895152242873444;3.4732906862099368617;-23.626019311978556203];
LW2_1 = [-4.0695363093528813536 -4.9078495267091737375 -1.1385418526432711239 0.5283558270415266156 -2.2753062163278641172 1.3587558090157463297 0.72513260587410666158 -3.0087618529117459154 -0.33670849757605064712 -0.22424587451485386569 1.5989654886253343857 -0.46169569500754403801 -0.47144543475376043951 -7.2255113320502548646 -0.38448796733106460621 -4.2232401067201106315 -0.24564994498487474628 -0.77917614684765745814 -1.6304688418664419203 0.80436350375691989534 1.0909665127120538042 -1.5192343968296810885 5.8414121982802074129 1.2610778143029086618 0.89866361966055174904;-0.21864298950624624918 -0.22390909698436523012 -0.43435747357665066559 -0.53374175223337205765 1.8552521939319077671 0.2202577439419257932 -0.4095017692091725281 -1.7891804294123203611 1.7367900237049092027 -0.15811484783614915273 2.7465928994407731167 -0.33144231328739387488 -1.577470362160507511 -1.1966880143948133153 -0.021247523523885283175 0.38003818351031842804 -0.58466762435234020945 -0.70484672429456596277 1.4716575191714684756 -0.4144730706272675147 1.2767002681179502321 0.58569701711029797941 -2.7812518075196792644 2.3660428677195364244 -0.32497072040634683576;-1.1632508996492765263 0.17965189787284449596 -0.5416733064821218635 1.2387656528088260011 0.30339467035970552056 -0.57922524865804358996 -0.19295220354767284032 -0.36340101749577014001 2.1423781118200220241 -0.86401738187843590833 3.5341562572063267567 1.4734413982788525654 -1.1671263887224132549 -2.4030550798680287983 -1.8107226836158833994 1.7511397149737817358 0.39654814555742540216 0.29528085835141004711 0.43451923763417699131 1.0680265912699493658 -0.53418448359050785257 0.91834648865815859953 0.71329476201477359787 -1.9378847667409817568 0.098515084691769769232;0.61062326006561284952 -0.92659475009087832742 1.396960878547458762 1.6329804933157079372 -4.6162095836335019783 1.0021902490429732691 0.60386000218258872874 -7.4066887029710031243 -0.069317341704443702355 -0.7258631407642320843 2.7579238343986349768 -0.79852241710271187891 -1.0653480410057805106 -8.6952405840212243504 -4.3672097208722684414 7.0683290178430437933 5.3168299612037275281 3.9164432394567381124 0.31348560467183334 1.4886341332046344466 -10.880019112382969482 -1.190366794598115785 6.8697673239487917485 -15.67280843924989675 1.8568433378298079273;3.140949725036236817 1.2501771338026168578 0.21603499095340217284 0.73641978000539376481 3.4557881538403312227 0.75808108405929131024 -0.63207189960240739435 4.2991890747195391498 -0.70411369047507865737 0.22354949119437064753 -0.89531026556751469592 -2.7364520598254542527 4.8626276932451677482 8.896581156773091692 5.1821853243382971499 1.6428894076881048747 -2.6214647054377606672 -2.1661881021070543696 -5.4911484398858432243 -2.9917849531339326674 10.188560207824737702 0.57815385314133382888 -2.1435902729739506611 7.1347255308501607018 0.66381747227088849783;2.5858974104950469552 -2.5096846541917394724 -3.6273255769638792501 -2.9984944108770190674 3.7094226528237519425 1.0128818264373953273 -1.1093112812017702495 -4.0875375009174730323 -0.86508671661874181336 -5.6266239034085252513 1.2896118993763723282 5.5490777722712172348 -3.6790259505462374889 -8.6187901832961077986 -0.66838647916701354745 -7.6083459526237282589 -1.1366154214238122222 -12.42585569966501069 4.0521983412610609321 -1.6541967467180429541 3.031732130940317127 -1.2940173540325616841 -9.2822289194246341282 6.9856459187756039242 0.27708369396213328173;-0.40268599878003019654 0.13260484454680135369 -1.7865029682899076224 -0.15872170736461391205 3.5048645928322876841 -0.55397971738170770362 -0.1446622398276340149 -3.4564921255389040589 0.80210481432652014355 -0.092613623646423670621 1.7009208158818431844 0.61831722241985886956 -0.68003564293422569254 -2.3818492674563103151 2.420478305483843684 3.6438708681491105423 0.23541249280005421829 5.0976299957277948494 1.0001968278918009769 0.45395129341505907616 -0.89770209309381376883 0.87500143083772796704 6.274069785994604409 -1.97811187070719674 0.057662059910006162322;3.4382737923224979681 -1.8159553521041376101 -0.56833030417458629824 -3.5866535047801382241 -1.4005366147375049035 0.98754820207614180116 -1.7626085949125582797 -0.1085908496806338025 -0.18473774876617993224 0.37725306785770973406 2.0294704283471793893 0.53193127504466763966 -1.671784416880026658 -1.7179547006512516649 -2.2743546726155878801 -2.681595444730340283 -1.4060835343193227587 -4.2107135658173913129 0.0090324088390346061322 -0.043257588790296029602 3.8589328151570212455 -1.4028804550469864409 -0.39450827574254143659 3.0422638573758811198 0.69468170367624348938;-1.1574280108545220713 -0.0050954331200469965557 -2.7423246326379757676 0.50768613766142367538 -0.46807718090303351843 -1.3766788253254387264 1.966204802721449596 -4.8292173603629864331 -2.4782453910379795836 0.64173397242963836629 -0.78763910150338845018 3.5389065932030363548 -3.2334448148135646051 -11.116048075152344055 -4.0705327352633231541 -4.2750045050002940528 2.0254956098542566956 -2.7386112751581221936 5.0936637113397527088 2.0427343429365869554 -7.6421678488304358723 1.4139791738344429373 2.5676882702600538622 -2.3299726809407705908 -0.16028407304575365;0.1826349443139091977 -0.85108018422516307222 -0.08594014857859443024 -2.848973590403988343 1.5360127552164468678 2.1332974640386983545 0.41979326219132290232 0.25182387916973869579 1.2921310538685606417 -1.3852060433920638793 2.925763604082402658 2.6183765179537803469 2.3584591267391270542 -4.6668989562994251941 0.52907501879821117186 -1.9218293781284616628 0.25270345052031167876 -4.5320691521302611804 -7.5535477770908192596 -1.3318010831776636582 -0.92629216505129308157 -1.9222788496380334156 -6.7528458162818152388 1.6687541451071148391 -1.0754263363526095354;0.28468771796299691124 0.34615576294200511853 0.37775538059978708283 0.60992970435670745832 -1.678976030054774693 -0.25876691628370523945 0.33756381662762868778 1.9597539639558905211 -1.7429773781788966414 0.16688162531756697837 -2.7066727159488235266 0.27236018184738630676 1.4458012877204546864 1.2279836060986091262 0.03141609419459074487 -0.39353423917380842001 0.57328326186188349745 0.26325168340318116922 -1.2871130261758396696 0.4317545720284721722 -1.3032917405676072153 -0.46207084735977638212 2.5209752707370083336 -2.2238706635356551011 0.36953978691271188728;-0.51185511546840334329 -0.091621371129734355265 -0.51395060018478433417 -0.45394363757069433607 -0.84705244191765594053 -2.2796792560505512171 -10.563430416930744471 -7.6420468993260337598 -0.32633727113711402668 1.1706065971233685641 1.2722669335226446385 -0.74336613711006160887 -1.7594590285520066431 -12.587126626804485241 -0.62702320560909208247 0.15773038484794182912 -0.87365372167525245928 4.457711867938789041 4.4841692592197608391 2.0403650503856587406 -8.3788651535849094643 1.0196778399069592602 2.4864324939400632708 0.42057378759300134696 0.52101571857082551453;-1.3790306156842395691 0.62817988534828950176 0.23412833754148787424 4.9542069413994980209 0.67863414417334155804 -1.272945211496075979 1.5667250791675422228 -1.4201925345350585594 -1.5210395798174265458 -0.94455044127621778927 -3.3490507083972960167 -1.3362176601755939576 -0.14519167170828964353 4.6650916461139786406 5.0703951848227912791 2.7068812859947946059 0.24049228761063762283 6.1909749390814887704 0.51079244021806935461 -1.4829625788288753885 -1.547805224381568534 -2.4530756514039970817 2.9949514007317881159 -1.3296494596094508012 -0.94111753376715712172;0.74160636615750341605 1.710501124835622333 1.2757463149503993627 2.6308380167693727891 1.0352505292459808217 0.78173996650849519874 -0.15457048507898846212 4.7735655435991439788 1.1885508463833951431 0.048684705870930038152 1.5100489639962155763 4.3215525790412145923 2.2843662372701860619 7.1273571162495521492 0.051746706304715700542 1.0521204480754513533 3.0168555301643631417 -4.5594519170658420748 -3.0339126170265471316 1.0895447967848579385 0.79957800711173021568 -1.5409896834591576553 -7.2726285550014830861 -8.0114566076713575882 -1.5302514414617949257;-0.23378692131979064706 -0.37163982267237144486 0.98034807753721797674 11.072293544656515607 0.93539835353487077452 0.37654845549177629049 -3.3494521023895345024 -0.79616757236733548542 0.40022817273216004796 -3.0753624504301284581 4.5685109252767936994 2.2605501912316583457 1.1110288293747743182 0.18042575881149902628 0.25234669797556735782 -1.2733845150318272577 -0.63969314523350073731 -5.0222524991448054266 -6.0240679010258659787 -0.50653986049696153593 -0.4844204880742013497 -1.5852463768976201575 -11.207501064766725918 1.0350602584581860555 -0.72390924090702502003];

% Layer 3
b3 = -0.12489269146838080649;
LW3_2 = [0.035080069266625490965 1.6924526728486044558 -0.22340049191090299852 -0.10339843710801747967 -0.075699334728539624528 -0.22357287557041538584 -0.42898547358960131826 0.19855780858668364841 0.10320140624985729705 -0.078928144467147659524 1.6110718906228151948 -0.099167770705001268006 0.079110290786110162853 -0.11671455393227583852 0.17069052710872162359];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00819772922900357;
y1_step1.xoffset = -2.02;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = repmat(b3,1,Q) + LW3_2*a2;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a3,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(3,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
