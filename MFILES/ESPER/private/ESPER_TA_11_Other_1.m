function [Y,Xf,Af] = ESPER_TA_11_Other_1(X,~,~)
%ESPER_TA_11_OTHER_1 neural network simulation function.
%
% Auto-generated by MATLAB, 15-Feb-2021 18:30:03.
% 
% [Y] = ESPER_TA_11_Other_1(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 7xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.999999984769129;-0.999540494077341;-75.751;0;29.715;-133.803853032615;-0.1386];
x1_step1.gain = [1.00000001035699;1.00022983623563;0.0140762793578401;0.000302617642608564;0.251952632905014;0.00432440760873659;0.00826143816767911];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.5510528735695141567;1.503865848655182802;7.2699703675851612417;2.3293497367545543675;-0.7373536134792147978;-5.1177949464505640975;4.0121299255835172204;1.3280231450132267135;0.8899188123560574093;-1.7342344895442241004;-0.57966039211334652315;-2.2052233869494726193;-0.27832026332101400534;-0.43688591083479894062;1.0650997767300505181;0.39107114737876225163;-0.84878516596535957817;-2.8929626031916586548;0.53383432878645897812;-0.29042320326233833638;2.0196944900275135559;0.99033243153546524074;-0.70991782537102143813;-0.52246243190013919033;1.0739552963983001188;-0.58358310771691823682;0.18700309744077150964;-2.7269399709683161959;-1.488428964179458136;3.2790443681597238879;-2.4714426678313814456;-1.3479140550396229159;-2.0663207191700325716;-2.6826327536307714716;0.68453878135409729211;-1.6683312554871081446;1.5354224134362735033;2.1190955744648221071;-3.1135898446560856812;5.4783844489176178882];
IW1_1 = [-0.7073658260096248318 0.15359669187009034053 0.4190367302776988323 0.034040916581251814965 2.0097819573262243331 1.4412888909416130545 -0.28282371230322173039;-0.84057868291136395023 2.7369403503596565486 1.8654053069510487806 -0.95426908096311935381 0.18267853726733526698 -2.466965919777873939 1.2995115988219045899;-2.5360227529418275516 -5.4777814635837138724 -0.42527987074920264865 -0.98177690179263799042 1.3918125967371757223 -1.3082868412447619111 -3.1938423658167995889;-1.6715350548176817203 0.60641259280621007122 1.4580392320429151898 -2.7260436294250394162 -1.8260326010324865464 5.9039361982491467273 0.099216918193145584026;0.12347952223942117167 0.10044296395523027998 -1.2030693030465697824 -0.35536354920611995523 0.96775998461146861551 -0.16771397503950513652 -0.77142164370537347207;-2.9190921940818475022 0.64234745243615254395 -3.5374362854311325322 1.4169760893720453332 -0.93333170670032727934 -0.4271993550518524696 -1.7979557246791146863;-0.50565763028902088738 -1.0162767882783412254 -7.8313500722031026413 0.40952755711872007582 3.3206423234508908315 -4.2564525674234410246 0.41082240290555671614;0.61118345668357021427 -0.15943468491004528231 0.40200463232438066186 0.70304033780820385235 2.2799587175650422033 -0.23274576344035713404 0.49802377074658427114;-0.20509542944936304254 -0.27715868296140805382 1.7894188483210926588 0.39341173802084250521 3.1505518038284368032 0.66569046984972912728 -1.9987094670530087814;-1.7491166251389806963 1.1733341164839363735 -0.92077607557344631761 -2.0150554390569590524 3.0957579685280554038 2.1423192454592308032 0.34922803781227157449;1.0863452684524881331 0.70364988773736292238 0.60576925110874724201 0.54722104675223759429 -0.53515031302890125886 -0.1834928338264312786 -0.23996732001183182503;-0.43647972657664257934 -2.6635660757023802425 2.9025727612826464075 -0.15851172038350580529 -4.3688471884113058152 0.79683194044708982595 2.0759806300189054262;-0.24918139097191080444 -0.097534641177032352366 0.57082792454924036196 0.30856896688617441171 1.4918687711139433372 2.3134307389970341085 0.89058879926348422096;0.36421418630313212583 -0.4985277410763823136 0.0064782860270860172236 -0.28566858426746311039 4.3359490210291440349 0.23385931559067912877 0.0071496404515493262172;-0.85023265597930153259 0.564819625135002501 -0.35297435325371923076 0.10497976987160526074 -1.3345075534304360332 1.2776118068623851798 0.43378500271817799216;0.24345392844278845867 0.09338953742377283096 -0.54269717931631844543 -0.18794635618465219129 -1.4593759099532035428 -2.265444768641537987 -0.84767102672835126231;-1.1331232571122404895 0.62024429039005768427 -0.92763926448760458676 1.3836263222435287723 0.46145084563038513137 0.08056453340712457778 -0.87846310003395455812;-4.6846941847303300577 2.8538728008159437444 1.2450911900601213667 -0.37521596428730830119 -0.82643527380306791574 -0.49433981227364037769 0.9078756307801729708;-1.2497735246514478646 -0.73488555109267739152 -0.72672796153417462683 -0.63266738770188435392 0.86514626060784849404 0.15932233068522461128 0.34321326361456833132;-1.3138005600175290954 0.85138782765515097495 -0.096114755158822853809 -1.7272985233616873213 1.709462629458818439 0.51394257932847120518 1.1380707817136102022;-0.16727627976597472803 -0.51300497093566055362 -4.9299500617999845176 -0.55258254544552698473 -1.0206603269293690328 -0.62856608867221352988 0.82853851673831802049;1.1428016390802935298 -0.6392836947533050429 0.99858083601425418063 -1.4806586733530320288 -0.68504715326892140492 -0.26603737516404085683 0.95624302728076970848;-0.074982475492211889123 -0.047487948374007472874 -0.13873715918189105656 0.7177632847226415036 3.5528845997827382952 0.34133733070505944962 0.63015377395386029669;0.18599477496122174269 0.21867271044501368493 -1.4817081320184573023 -0.32660802993847631859 0.15409546568398874156 -0.17678290382472056086 -0.90480497730159670233;0.61725390337404639762 -0.23492943669561935915 0.3773731473529513547 0.70816603184653814651 2.6270789608305094021 -0.070794000772477883032 0.26313884742148263562;-0.76890907694854671028 -0.28033099486215112828 -0.83108793829446614421 0.25633317671984451325 1.1617894809851587734 0.32558026861254307782 0.13682085759595716268;-0.13426523465684228609 0.13911144773478134606 -0.44589704066734386911 0.78566668650426096931 -0.73017286914595347369 -1.9813192324943311728 0.2804777084446641866;-0.13610557653110258447 0.82202626387373045613 4.1762947222804296388 0.46577731378257725137 1.6462266115880459516 0.22821986857112483427 0.37596308086757690425;-0.38115851839416431401 -0.027817185096486850976 1.5267141660244727408 -1.3454332479025625791 -1.1764308593640917522 -0.17342043989121752601 0.35853981085270736351;2.4372421652178184459 -0.043957696806626131436 -1.4506493373193112273 2.0489074804122888729 1.7790701484416318046 1.1265795391622750454 -2.3501450398013159493;-0.15394486536944426702 0.8183468831279073763 3.8675926697967422108 0.42792862420739624651 1.6719290907471646701 0.13035998403977175353 0.38153242359698436026;0.24734425683328187251 0.24796919122859015228 -1.7643854643042542474 -0.21802617211819819154 -2.044876814651379604 -1.014574011375637852 0.83220069124761253399;0.19402644184170411701 0.47939200736852483065 5.0268887751362356653 0.54937807093560664384 0.92518144221957243634 0.59039644902914290014 -0.9861295595394068414;-3.4595781567772534437 0.69624101348840439218 2.4371894435899825737 -1.8196449042180311562 6.91559780058503204 -5.2213809877961505634 -1.377775335002915158;0.86376883070610022131 0.25249003454491064646 -1.5480720655232249605 1.1029155239697243651 -3.0972117227012927465 -1.8078184324614618994 -0.50170933276411333601;-0.33211526998820600776 -0.078938064250287307 1.5700873235836256825 -1.4617617001155520651 -0.56796396511219571224 -0.22333786912987058093 0.58674914631974239843;0.49645351419245259406 -0.14825291905102480627 -0.41089555641396002805 0.31816965357367904543 -0.4284092404106218388 -0.32488520985138991115 0.86996859779261870305;-6.2053813683937892876 -6.7151741362508889921 0.11966421381348456288 0.20413368257944261575 -3.6757161535708160471 1.0042459476245182426 -0.61332212422582577105;0.66842279356182543459 0.49286438651289382618 2.4231227032594526705 -1.5067807321579020918 -0.86842712638280328274 -0.3589586911511826739 -1.0635167125150255529;-1.0760163082010367752 1.7562258290160170926 -1.7007625701318895839 2.5666696376310089711 -0.40812678776023203486 1.9474392528936985691 0.83880248493832076928];

% Layer 2
b2 = 0.85447483280724045862;
LW2_1 = [-0.28974639240200766865 -0.030610864752021644392 -0.11585090794064786812 -0.038919081693363097307 -1.3140510638031341895 0.034475448233443881096 -0.026746322984308949777 1.6824493457311771039 0.43527418090309027976 -0.073590328866084964154 1.6020664158259458887 -0.028169238461242144395 -2.2796309033352097906 0.20788509278289632465 -0.15860624628877853515 -2.4966967606776990785 1.2425435467510319576 0.035630028497590580938 1.2880379178767478177 0.13393628184335246156 0.91085314209500634064 1.1589932491796848257 0.2549867422990418353 1.0136976472299834562 -1.4744509671936287809 0.27183757157592597364 -0.3052637938412600116 -0.95014182394505242168 -1.5616872592443094003 0.086173468823149357299 1.0222365646301305731 0.66878424711751327525 0.81668404443849940133 -0.013063965225228867106 0.089731087896614269983 1.6175194156876047114 -0.50022777180779942618 0.012504976583633416881 -0.17636031986042363662 -0.13739107762076913088];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00492610837438424;
y1_step1.xoffset = 2075.6;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
