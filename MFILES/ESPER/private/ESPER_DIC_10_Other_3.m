function [Y,Xf,Af] = ESPER_DIC_10_Other_3(X,~,~)
%ESPER_DIC_10_OTHER_3 neural network simulation function.
%
% Auto-generated by MATLAB, 15-Feb-2021 18:30:13.
% 
% [Y] = ESPER_DIC_10_Other_3(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 7xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1;-0.999998793562952;-77.961;0;29.715;-0.9;-0.1386];
x1_step1.gain = [1.00000000274156;1.00000063368067;0.0138606862425759;0.0002963841138115;0.248478071810163;0.0419287211740042;0.00826143816767911];
x1_step1.ymin = -1;

% Layer 1
b1 = [-7.9435494734583684817;-0.6913869493351119111;-2.2631212710349482009;-1.6373439877499607054;-3.1135468106800154864;-1.6684469449749392833;-4.9282648621606002237;2.3302851202754975013;-4.335937491162251689;1.6779752188619434516;-2.6760181260418476334;1.868588950019447692;2.2388604597453714007;0.27767237942680278451;2.2325934347879639041;1.9091782083005117698;-0.47749978818001864722;-2.8132110934222747112;1.5821538738784515221;0.4965450703760149187;2.3108459479507001966;-4.4238473869631915747;1.1021718324255802557;-4.0142620310600953815;1.3835665631694167299];
IW1_1 = [0.38963764947245183023 -1.1047184289581715166 0.8543609384181365396 -2.3041685360193020493 2.1180205060857755228 -0.69060066345260195941 -4.6541633976376965975;0.42233917252919955798 0.37640185477894683164 -2.1519010437531997937 0.15922576432800761292 -1.5411046624119930648 0.47592064353276614108 -0.28016149999007983196;0.398845544416671971 -1.1756969439981084236 -0.20109253040685584613 -0.44974070118967479637 -0.44130963248168614266 -0.61635263411283203183 -0.94120777999590010676;0.10549250441946374235 -0.0091476875317348382843 -0.15862934614845519699 0.06077283105371014682 -1.0739561976091944739 0.16067629056846172153 -0.032226047230701132529;0.081069423564526676973 -0.64270406001851232425 0.43152036032833546164 -1.231121855029889689 1.6599031978534268816 -0.60322613163189164887 -0.95300264767268172417;-0.49094791904674200955 0.086713077563561252736 -0.87303417759496237949 0.092218267960831393215 -2.2024660427932922779 -0.92609066865679690039 0.1404392956989743424;0.16160716898353688631 -0.37255074047027031403 0.95440686628041726536 -3.5261187223142291813 1.2031548952610067182 -0.8138789270917378138 -0.5728333782972556687;-0.43196662228687149332 1.1996734814127700819 0.26689520105163472286 0.65518590040493496218 -0.45891541060798607399 0.75457696550824082671 1.3170510467026643742;1.3807326835820319388 0.058431804901869860425 1.3790528916517723612 -4.6071451556053606424 -1.022099504561469141 -1.7107085154758097101 1.662890167413912712;1.5071739561057271306 0.76297257487203962167 -2.4590590122913598137 -0.43102647288653594959 -4.6434805624120443213 0.59282703852186957594 0.27087834341235028646;0.25917738291804109929 0.27427823558435998619 -0.36237826762062258501 0.32296792575025734529 2.7127603083853562005 0.76406675460986828163 -1.0597539717818125204;2.2920721439389688534 1.1585944811535269228 -4.7229731386476689892 -1.2415910945266863674 -2.1764352545161189667 0.76424469794363369957 0.65044738295043269538;-0.26172347771153142704 0.74685698814046164173 -4.9265203422562953151 -1.0315423442810642829 -2.4585064740935771432 -0.68598749109742895858 1.1264220360458800929;-0.51892698254278879499 -0.35779615867804120954 2.3101883655651755944 -0.13549299617878574065 1.3756543190904420015 0.55515320080590324636 0.25557645034442927345;-0.75130368487471221872 1.087395408888430115 -2.7286041312178745954 0.82713179743337506 -1.4477649202267615092 1.0339509684824128161e-05 -0.043941557632042750614;1.7931380966194894189 1.1992494245285416632 -4.3096048116240268655 -1.1213763357021431233 -1.6755646446849121745 -0.090617004340350124081 -0.26920370038301444371;0.2841479155555487468 0.028032829671553703699 -0.28965100009285604798 0.092645103815907806077 0.23656326750831030425 0.28629103503931685459 0.020681608731641969862;-0.8319410490200727093 -0.18563314059111987731 2.0521194011594889872 0.034521520116038401094 -4.0527148837203412768 2.3012309779996558134 -3.362320536376187885;2.9833603920823184019 -0.32878441074066161454 2.2375977696276674322 0.60202865590437504295 -0.067724100896211628098 -0.021695215063273549927 2.1402816674972489075;0.24866694489481999675 -0.021600306646933339905 -0.051260241632244595011 0.05999055651707636827 0.82337475647647817567 -0.026853794056810140201 -0.035679607099683249838;1.1115151237956049091 0.88071250075059681617 -0.70957255844068289896 -0.30989557877601953129 -1.9208984171117451378 0.79905737106224972166 1.1485775709296877078;-0.8053013787719960348 -0.057508841624502524126 4.322859819453095831 0.17048998217448060877 -0.57336661164022273418 -0.13114123772070418461 -2.4768073984645662122;0.25524619315501617667 -0.13369661562370036001 -0.72292731979950131116 0.41364983151331669031 1.4796139302340154398 -1.0278225905301721088 1.6823899345379007553;-0.91851356109209147949 0.25504754969586529434 0.37559677465847057798 -1.3885699592774742861 3.5518285938556406478 2.1403133522577024728 -1.6894284605026639312;-0.62193603656883278408 0.1948612655920186898 -3.5761028755714567851 0.20552992248254189911 1.1503751930696453076 -1.9538104332041561495 2.0278956166276831397];

% Layer 2
b2 = [7.6567169081362385086;-1.9980403297921276451;-1.4556265338416483068;-3.1426616388882373521;-3.1178304843809852009;8.3658435958396406562;8.065923480415435165;7.2301761657833756303;-0.0033279414926877283476;-3.1153285071770508985;-3.3883915467526928289;0.89498975243233358512;-1.0949063530226887941;1.2280100943245009226;-0.062637344090144986275];
LW2_1 = [-1.2260557118814188193 0.74848318839379923695 -1.1511415464635992301 -0.51663580868100855703 -2.2203278510793462708 5.3822362996612413966 4.815137314648245237 -2.2981895787136723541 -3.9042338921166930277 0.032481939884778265881 0.15290631338217353097 0.5244398437813870828 0.72292363407709359091 1.0251673977519755177 -1.1855905503581387617 -1.2744650344095533878 2.7985026697612331859 -0.96247262474021400003 -0.60732431895013350154 -3.5504927835206596676 1.0541957142188409513 -1.177095727636646938 -2.2561914975764163493 -1.6599120340764133008 2.5409073166881070982;-0.03091185821852016069 -0.462799021060263438 -0.58536506602103732799 -0.90781974929410658159 2.1351649855720404858 -0.40306227494889246277 0.62991080958932244016 0.41871565960391654571 -1.3728892270527313091 -1.0340442902063895492 -3.1516997238703687856 -0.82614960472432641403 -0.95309458306441341424 -1.5356061782637375757 0.95769964512759941933 1.8352660956611959175 2.8846675338073848316 -0.10307076583892693655 -0.097469850826689699574 -1.8185640888998313436 1.7035288279664184685 0.77067168799697927106 0.47831615784493958232 -0.11554021738318834278 0.20965161934031123492;-3.5126787009322932853 0.92935775844156098824 3.0694415191127477627 -4.6851478389877572184 1.087349848861574042 1.1892516332196776396 2.3241299693591086495 1.5478646729273475291 -2.4274348333740696226 1.476913781421437033 -0.88071736467605410414 0.4712951517224108211 0.084659262671201426786 0.63046842682676429437 -2.9152996617249069544 -2.3603749004670491196 -5.7920450749473832985 1.2816458630113847228 0.030624226455499663213 3.317602876121449107 -0.12459738908936585089 2.9950639027248695534 1.7389774225717380407 -0.51996819927177051479 0.55530023612010359635;-4.8614803629263914075 2.5350242170160868227 3.7967488711828734083 -2.2211956393382661368 7.5112046251657087481 1.0523572292993161881 -3.0881643230710298376 2.1055593317161527267 0.29826069929388382418 0.83000460172998491437 -0.63670455635947298401 -0.43716687961014211172 -0.46182106496944391738 1.2680601425681792271 -0.35292726742125885009 0.72903660185750662759 -5.726566167485855452 1.3882583207955974114 -0.10195884074172835432 3.5483831599439574767 0.52195478487330049244 -2.2132704876549720296 -0.40119626212885511896 0.95760598932382834381 0.38111901245602741728;2.0861927650943496992 -1.7169533767445590566 -0.82622145074961517164 -4.2310120290667772025 -4.6542836505746461029 -0.27809997253648532922 3.0132421953526260516 0.075476974373640620675 -0.36168492013022629505 0.034718389525503719206 -5.7558897185755268922 -1.6478115415341183514 -0.7801581356142288648 -1.1777191139689204835 -1.497763897763098484 2.7358997654632943863 3.0484140907670687071 -2.6965801431860580983 0.17494682680685297305 -2.5244141665078383419 -0.47339543500230496509 1.731016736212612539 -1.4627910116462004009 2.2440053402112223324 0.7785269493291590015;-0.44946307418104569642 6.167146431902597925 5.5459142455828747131 -18.521829121580889677 -2.9977540443887309429 -1.572203237744879134 -4.7073031148180870531 2.0109351666629300404 4.3162297598203318572 -5.6693177926543807388 7.9740653273043839988 8.1133478164926504661 1.3875793008120846928 11.640613438143152081 3.6366666923191255378 -0.50768466513452636946 5.2250288335171930498 -6.5947120501927782854 11.9950550595934331 -17.196074102177963283 -4.0134301055739305397 -0.54760641330323767129 -1.0728654256018539392 -0.35042349500868980039 -2.6734598220679322012;-2.0365486745993739426 0.010776651799507222518 -0.31929296753896652117 6.5369821412241719827 0.31118172630191182071 -0.40099756111206136255 5.0619409953674816549 -1.0054445267606648695 -1.7237610413513280161 1.3570260010402084294 5.7447780748075496504 -2.6169421587689818409 0.97612038816546942144 1.830451876722051674 -1.4663386055791962637 1.5873053276928221766 -4.3876967439999159382 -0.73883657690682613683 -0.13627575935803062923 3.9446857789222025126 1.0496252696746244393 -1.0753247075275882416 -0.21622219101138129282 0.38218403439213899375 -0.41910205353491986058;1.7872390302692344743 1.399105655006595228 2.991579106550918965 3.0567367499477025028 4.935606943486158471 6.6487602480133611849 -9.7852857301009166235 2.0525992357563103141 4.5603867950320795543 -0.68228283180366511296 3.4047182388994801094 0.92234849626683534929 1.3196442875097680325 0.077480650395643738126 2.5964177098926861653 -0.99083156590071475023 -3.5028716463925428926 -0.06789572814928072908 -0.35458849711229495361 11.425956834770920167 -1.5394328613597600963 1.7670128046042523629 -0.50684516371907106791 0.37100940278911503922 0.58008443871786175006;6.2480670713708592601 -4.8020806064515486611 -2.5494511361496940971 0.99532341021146142346 -6.5183228748957171561 5.7382737266217809236 0.84556523606289646366 0.36523432546083889338 2.3942138757076207867 -1.2175773993207861245 -4.9153870511026802603 -2.4550926034947599952 1.4477673422669716796 -4.7766235984653091506 -4.2011514807150218687 -0.09325402690803046013 4.5569144141988564556 0.67446524133326701822 -1.9400794751383492187 -1.0959066223792457428 1.5184807171886345323 2.040468365503524506 -1.3854260024434228438 1.6086905795605344061 7.6099067092614527397;-0.87718001631119935091 0.55962534805882879763 0.60986773098174140717 -3.0845497088263953422 1.9756128059603390579 0.43682221378081997898 -0.29822960914742491223 0.56627331156593552208 0.052489665966197238123 -0.10252824161587670293 -1.0578391238110622652 0.018869146519368190651 -0.1674418032862398098 0.70318374063517041783 0.39001648037510094902 0.096024253971048634249 0.37168421304382737169 0.12255294768230644287 0.16917519636574784858 -0.26731018120251248682 0.29736842531542073687 -0.10118599540907548262 -0.16891730626074855093 -0.1208115262326294459 0.061264472061335652209;4.2678924554934303259 -3.982546601840851519 -1.8610449714139349897 9.0448960869654833061 -10.485795818915345734 -1.1571418883172082115 2.0902591816617044351 -1.8103256208161719876 -2.0896900710083130548 -0.14563641110311645321 -6.2895284954874064454 -0.096749832584026793092 1.4177030236896315252 -2.4894199369390963561 -1.7017757642734641088 -0.88134489242713598411 0.50490277589013488058 0.26887212278144329014 -0.2475553580459737002 0.48987537172134520969 -2.8466783331824774272 0.95266803882802952863 1.8508962939865067909 1.1990630614284913946 -0.05214679219342242128;1.9937225934901599 0.33383928869831197561 0.2629420623581008587 3.5327446192745797227 -7.4970071305123777705 5.2611708947973623296 6.989236352604417668 0.11897739927640038626 -3.9537812664358673587 2.0034133126122481983 -2.7481314722490344238 -1.1548325970853272615 -0.75194048598130724947 0.78110960737515056085 0.75033997234029392587 -1.4627290245933999291 -1.5043090292582876888 -0.65008338532934906162 0.58673966821789336201 1.0366464633289924624 1.0326583830098319261 0.34695855637959260864 -0.86561195166330007211 -0.70679058222920443377 1.6775068091934337566;-4.0834467364606101825 -2.4146528791788894885 -2.3620260736740448237 -1.4323895924351248699 0.19419208639699600538 -2.486461190130783816 0.12216620468971776947 -4.2884097133607053109 4.2752874111231529142 0.18053536730399183385 -2.3940776216502963614 0.63713941185968014924 3.3285772468971472904 -3.0974014527584321499 -2.8526240544337535532 -2.6510011815430867266 -2.4899650118220990613 1.4574067715986438465 -0.90646991363194173719 1.0210520228042303525 3.4377596931141134462 -0.19628241514678285151 0.6304825985436047775 0.4415671915117332369 -0.16454250019711127995;-1.0938211024733162091 0.79951877944741633897 0.78852508723889380704 1.6798385302947973496 2.8678248688296492652 1.3397620933877443239 -0.41722041190219427698 0.8946787497872424888 0.20497626713563821266 -0.39634383602861306128 -1.8626723294421365651 -0.15793422407070462077 -0.48054789571083467159 0.64024427847171727635 0.92224238036070416147 0.661328257119094709 -0.48959465529234297287 0.18365402247046921924 0.30253419754741006642 0.97111866087345666276 0.5221491778209667034 0.25436230673791482282 -0.49520343331405242138 -0.23000514591629625527 0.20730098052889750493;0.0094823001256085122368 1.3465773885194349813 4.2265332812448130895 -4.2644181944957262331 -0.5850159417427175379 2.2711018138515224329 1.445513375098309794 1.8877467722586946941 -4.1079823704352618208 1.4838220689162642252 4.4710068343983566663 -0.99205284765808754432 -0.84030313730458161547 3.0333286761056368341 1.7650121343020213072 -1.1605678955624136872 -0.84005351300105735035 0.10129191601451888183 0.83332291120557377972 -2.2739245067557227742 -1.1637958913456811771 -0.60313363419594934189 0.24677458381372407992 -0.21384728773179415007 1.4853058880710381384];

% Layer 3
b3 = 0.92881036933134164535;
LW3_2 = [-0.15155696676659935473 0.15570073635467682194 -0.056005008163131010657 0.070573201131896204363 0.16167646873038435396 0.010815193330282957956 -0.073461026511947510875 0.1098032239133192034 -0.102743683909696501 1.9490891936206371504 0.16259296712108273208 0.065038316814228114282 -0.086027227767284053517 -1.0052727841486830407 -0.080627910452398629526];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00314743155299998;
y1_step1.xoffset = 1774.26765577007;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = repmat(b3,1,Q) + LW3_2*a2;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a3,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(3,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
