function [Y,Xf,Af] = ESPER_DIC_14_Other_1(X,~,~)
%ESPER_DIC_14_OTHER_1 neural network simulation function.
%
% Auto-generated by MATLAB, 15-Feb-2021 18:30:15.
% 
% [Y] = ESPER_DIC_14_Other_1(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1;-0.999998793562952;-77.961;0;29.715;-0.9];
x1_step1.gain = [1.00000000274156;1.00000063368067;0.0138606862425759;0.0002963841138115;0.248478071810163;0.0419287211740042];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.6149057746494492882;-25.004483254770661915;0.82514604498308175007;1.3686267991230289809;2.4890808648676516768;1.8369383570732888966;-1.8337924005894787882;1.5051972977335279502;3.4804577111423533609;-5.3466837928365462673;3.542533580467463139;7.36845998105992539;-12.967597821803915181;-3.7024228699882391069;2.534176168006731622;-2.1129255326772797829;4.8665204662760324084;-2.6354940336965406722;-0.060779190939734585586;-0.46448998557518955677;-2.9536287211080609616;-1.9957996413902936439;-0.71890857878571723383;2.4211145137158602836;-3.2664535795824281017;0.31560075126214337526;-2.0742017033331392462;-0.5304037061097709449;0.013716953331429944732;-2.1995642743873866642;0.025184492076901821012;0.65779684090870926827;-11.783902426705116895;0.4044008884427543471;0.83183108431552965634;0.84415462643768490736;2.6518479732647732838;-1.0722180358773985009;0.74086810359990129538;-4.8325346747765118849];
IW1_1 = [-0.022934214351184614017 -0.60532260743877264186 -3.4719062400574798311 0.048437347821018467142 -1.1050771256373495 -2.7258954816346800953;0.0472877899644419189 0.77018847817428304214 -1.0969852070897827545 0.88604975083879355946 -2.3609913374493789462 -26.94179884235120781;-0.037968255587271945717 -0.86491948243139227248 -1.7234350730607439495 -0.69994692453798468268 3.6243420357584659186 -0.7606002972111836069;-0.83626999527851619831 -0.15329569104259668788 3.7454983023538317433 0.082536811219177441679 6.0057706348870674162 -2.1411167774594717095;0.11847462002535177894 -0.76111334637450356322 4.2118839623597157384 0.75862874177294747913 2.0299124806799233589 1.034770643371749399;0.74191797409931559137 -2.4753365833411216101 3.3778479106366168239 -0.91607983804258008576 2.7020047592543883219 1.9628478926437691321;-0.35322786042720483168 -0.64111107685606860684 2.0588392070566992054 -1.1373762907121522936 -2.532281971832192724 -0.48787055703827819642;-1.3642735300598116677 0.48129835015492905548 -2.0248151966953065184 1.7863618441365982648 -9.278052643476849326 2.5843120033587054785;1.0477847045401043058 3.3704629480981402878 2.7460022188331820736 0.56269380058214069074 4.5942674412439234999 -0.37362894610994279443;0.0039780492332083198376 -0.53182998485181154358 3.7230047188132115998 -3.0164852532248294104 -1.924217741883029742 -0.89406686903271737066;1.0598999268229905013 3.4069853680113348915 2.9198212125860814048 0.53383186252357195389 4.8647059668896774909 -0.32988855740833067376;2.7672418757738119766 -17.616686038831769423 3.1897352539005878747 16.050067770743474682 -11.526683527045030075 -13.757700330495980623;-4.2305886313539105004 12.409061010376175815 1.1638148558622851692 6.2788088878543462101 4.0233437772336806404 1.474929404946064837;2.3108201318795358326 -0.75057837500142743359 -0.93951296538114925649 -4.7618056163067752351 -2.0654491054272261508 0.027540629212380037666;-0.4264066112621367477 1.2144843659845068196 2.1468276535893906498 1.0006054873294223384 -2.7234052030366613373 0.03839549746379761902;-0.4822694977123970772 1.4027993010418517983 -0.062883982234615415363 0.41699570076604525193 6.3371410097900859881 -0.2146078004186651178;2.5085876623238356764 -1.4600336801957325417 2.5369969204212927671 5.5547038776714590114 2.8313393201464238658 -1.1758519394401532043;0.40473769574391071924 -1.1707298637070902014 -2.3070304129320318154 -0.99821678638936972572 2.7873866740077168913 -0.09616345761103921308;0.075469769665998123753 -0.21751973491637818792 -1.5592381388079854521 0.77087990284196605817 -1.52598003897829404 -0.42379248857351314861;-1.8009233517510994105 -0.20311331480019501061 0.23276460485004701884 0.079646358523627100445 0.4828322521989588112 -0.22470693955781803619;-0.13708173340046914124 1.5179810829308768572 0.36010494145712995673 -4.919441891444948034 3.8979641897280288276 -2.6314399240416963544;-0.42002075037173053351 -0.40512960268095254968 1.6320682243982460591 -0.8427536872969604298 -2.1642075224158516811 -0.62818110714323038835;-0.0011168007780770700457 1.373387304678617804 -0.34418682654205440263 0.35560626925031285639 -7.2186589306034347757 0.72430630168552401216;0.02371358706481830475 0.60129233165684692342 3.4021130472788865262 -0.22355416281959589186 1.0658442398781693417 2.7842582943732763212;-2.96515623936318784 1.8273935729492067903 1.048007813139403499 0.5458106653738725722 3.013787438755651138 -0.59312625387933615162;-0.82201517586193173504 -0.80648372800673584493 -2.2804002220084180763 -0.6631906740850126436 2.3474665452780221209 -0.095116854782124171663;-0.10630458166840922596 -1.2801864090291672493 -0.47104376037918010978 -3.3339159834491276513 -4.3932925613407221022 0.11561810619279240531;0.30588429854095650073 0.16736340889378517605 -2.3046055458687626505 0.77706132997183374744 -3.2488452953218671659 1.6269759407615604907;-1.6767516976188623357 1.160234467763955557 -1.3526723480345537176 0.28204288968368990131 -0.35869538000338724304 0.27771168175498023301;-0.52597590845599817566 1.4163104647336643982 -0.02386496637379268218 0.3951910109354491718 6.5733690433915370477 -0.14223709540418796871;-3.27729504471069788 -1.9289116009860374223 -1.1416789837774277139 0.77351275061238156106 -1.0711061770042689112 1.5654434636964442706;-0.47913398426021736043 -0.17491309112301614559 1.560731130259397359 2.8802184684516611846 -0.74113266907654784532 1.312928339814309453;0.1060954662724265668 -0.44420067160675152929 0.35248494507764394079 -10.422507715891516256 2.261279236677655291 -0.80721062468030946313;1.9787498167938233351 0.36271804750210184798 -0.42894466134750836028 -0.098654191555650902479 -0.69357744748510419264 0.28204711916046659725;-0.43994274929161647503 -0.7423164079869603027 1.0458613465831008149 -0.75168746246312223569 0.30907061980988859151 0.8199983217002380087;-0.52642581466627424991 -0.81337779698358148028 0.96212447130211187218 -0.72542474760816166857 0.25591609852861424423 0.83018545258164022638;-0.10581369137574107853 -3.2453122033453913886 4.3791037833125638912 -2.0995238907725219946 10.904298085027683385 1.7877497030853870541;2.9661200022654292674 -0.14519174506078158515 1.4359328978025287515 0.25961401249553456294 -0.98388187001871874049 -0.14473022326103310298;0.10549655556832429615 -0.7410617996022412779 0.27731324764381659609 2.7099838613759423822 4.4393007527123069522 0.85293264802737600583;-3.0844350677251690662 1.7529339968309110009 -1.5343227917137707284 -6.862438966826402087 2.1299713625913141435 -2.2224428468232981793];

% Layer 2
b2 = -0.064968220567338808014;
LW2_1 = [1.7804220006674691401 -0.067874413053492677061 -0.39006616387654124978 0.10476998334521235579 -0.098821865490377996943 0.069612470708349472037 0.52957061858673459831 -0.043758856404428059239 -1.4562618161580112019 0.47712456067091973955 1.3569467064229627784 0.0062700511190129691944 -0.010060413995889520844 -0.044009726803552216834 2.536285093921681888 -1.4038765268640318595 0.04359807081685915936 2.5324565651420627432 -0.61923214986540475735 -1.0617342020157012339 0.050468183698451740682 -1.1937415360341949722 -0.14969327689783054613 1.8075195132013364141 -0.1110817914771593945 0.28169603056592773527 -0.054196296047830223863 0.32100130797530634919 0.13013095662447335399 1.3218356179697479114 0.04243221970601802201 0.080620390702542787942 -0.21917556809304250542 -0.80853347741132086668 -3.7154532278232137443 3.6120479370110238904 -0.063256011295101111092 0.13861153135683607074 0.18786015496509045342 0.046351232464740980965];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00314743155299998;
y1_step1.xoffset = 1774.26765577007;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
