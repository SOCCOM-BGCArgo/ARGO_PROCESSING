function [Y,Xf,Af] = ESPER_DIC_10_Other_2(X,~,~)
%ESPER_DIC_10_OTHER_2 neural network simulation function.
%
% Auto-generated by MATLAB, 15-Feb-2021 18:30:13.
% 
% [Y] = ESPER_DIC_10_Other_2(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 7xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1;-0.999998793562952;-77.961;0;29.715;-0.9;-0.1386];
x1_step1.gain = [1.00000000274156;1.00000063368067;0.0138606862425759;0.0002963841138115;0.248478071810163;0.0419287211740042;0.00826143816767911];
x1_step1.ymin = -1;

% Layer 1
b1 = [-5.1319987415828380861;1.5564405126376177346;-1.7201362147227605703;0.091743970003494573762;-0.19665353831691143038;-0.016168193616822385678;0.0087260321533757616297;-0.068999231786982570536;-0.40771049835784139992;-0.84066139539068496234;-0.29477654306849288002;0.43304924999307103928;0.27473346544591403795;0.94909351449150847202;2.6551660458718346902;-0.65936857165408302439;-0.67897151780486364459;4.8807505493313954048;-1.1908492040885594321;3.7852302064255520797];
IW1_1 = [1.0123160842271539117 1.9203196298541920228 -0.97062665345373055903 -1.0760655672699297458 0.29646517391969962052 -1.3638857324774791291 -2.1991811125860873943;-0.7261530509912001996 -0.59906339510580863816 0.4184719928118441068 -0.19944089986519811242 -1.2726751188962790451 0.61080821036664634249 0.30072618248103460958;1.0227174772366014466 0.85748102012097093816 1.7919182355892822045 -0.7314298742371518891 0.53740786133060780561 1.5452550600445622564 -0.87641434677547003229;-0.20521026994002433685 0.09111601819337970809 0.21318213961568094339 0.097684720707967631625 1.5756446907612322583 0.28525752260712283759 0.29326344721548325278;-0.16050651365680954075 -0.63838799917907596004 -0.85025370718260639968 0.15162673387736708142 1.6413778824342013518 0.84892998951713505296 0.29089949950589483185;0.37536762136544954416 0.13655029504650562089 0.12548311578578194569 -0.0673186971046953464 -2.8994214428985976006 -0.068251228761489493579 -0.27529264890113214204;1.4217805026941934265 0.66084042180051982829 0.96149877772859815295 0.14340119425860683999 -0.54462079522236939155 0.15561149271987140263 0.99249219684647382866;-0.47059412362372787797 -0.2359624790913732173 1.6586233365347322621 -1.4900910962419722239 1.3950684890752405032 -1.9106461025570078416 4.1932243652371532505;-0.10597512719837975936 0.15257343076277823934 0.93341359608053608987 0.3443810733325835538 1.9461610363726868922 -0.8718017229143580904 -0.44070657264417240073;-0.20800025914441014341 -0.20190652447467843933 3.9719025971541568332 0.42895183363239181018 -0.52138567121950496475 0.11835391309198531329 1.0800402389155698835;-0.16834984940335939729 -0.28043418600300795696 1.7832896708075218761 0.41222160017836978474 0.67525947826142707076 -0.074652402852592100735 -0.27649751884285123094;-0.64523623194123436164 0.2682575308223241195 0.97767809465235300248 -0.29411079196010792014 -1.2284624953746341447 0.31001246599275705806 -0.62445833937541572745;1.4094349378042398957 0.69419298023642983519 0.86388581789502683073 0.064110977495816609539 -1.062906000270349649 -0.0641032282125867936 0.80748785011518453558;1.4732385522004671774 1.7685053873489235965 -0.25723375679231996749 -0.5187524851891684996 1.6174563920454145816 -0.5276382319292800549 0.47519795125181130135;0.92633408931214289428 -0.007198523168016433306 2.3645379705086240207 -0.54025069360006494623 -1.896965200562273024 -0.67919242134099389041 -0.65015883566228260815;-0.10759390494013880424 -0.8753926347150430276 -0.033564228185010078209 -0.095568863907653303635 -1.653015029650254375 -0.47494305536797631895 0.052605346800146397801;-0.30538203306728795017 -0.2045766129537747724 2.469804805261635039 0.17419290087242317311 -0.79998085361374760005 0.25494547942968542875 1.6407899780297621195;0.35962347338587502543 0.18236923454361722574 -0.86229546080459440471 2.963354530945042864 -0.57581635191683411268 1.4643066509590121349 -0.1681788427352174653;-0.37366575419658587531 0.32822488247195930056 -1.5356593520236170303 0.13045681334718650657 1.3182520133360384751 -0.55331460099575913159 -0.053179597568862591039;0.31367611005530476875 0.88571182033580542203 -2.0195704166188837014 3.0227640930328143476 -0.63115431701862734215 0.82488508585822417629 0.79759047810175631721];

% Layer 2
b2 = [4.6261264492363727285;0.61105944780349197298;1.2983825295618878215;-1.3734029116716384156;-0.81587681123020372453;-0.014010327680726054889;1.3555728368850876731;-0.93167523295443765985;0.27714302731820672498;-0.56664497808398839318;-0.98147129492109397297;-0.62094365512694327247;-1.8629987650764578966;-0.16200972188915344074;0.55063471391493512552;0.14504031094123023826;1.3340048584801185161;-0.12848531171457158728;0.079514904747986545064;-3.179183891077164148];
LW2_1 = [-2.209333791144826975 -2.1903195778295336815 1.9686401107319109194 -4.8895718623952051374 1.1116678825532271269 -3.0032047609425700507 5.4399444818337645557 1.1103450817630853287 1.6020786669434001759 -0.58090612782527195623 7.8389125291547756547 2.796587747909029531 -1.9314904419856071538 3.1504107376113128502 -2.5105422750369057461 2.9130762805397991677 -2.376843044622358736 5.31415543210575958 1.5976921717854017935 5.0822870452363364535;-1.0806734219567974975 -0.58578960489129694444 -0.045615333238954662576 -2.151428023815860513 -0.33832076194013216419 0.16711857451552478149 2.4270393375674315095 -0.80541328658991162559 -0.5448536872208530335 -0.90292697882206207627 0.51392076766354100048 -1.3700310066688761168 -2.0975710800717286553 -0.23540629608197455314 0.47538403126586203928 -0.95532586701714905519 1.4325582154210458885 0.48329716328069632914 0.68121873788321485321 0.15465282541802158334;-1.3802379764890957414 -1.7758796037238246956 -0.036706436560788639756 0.48923359909724434269 -0.5281341808120493253 0.067116679875814239109 3.1303951959746636469 0.44550011968353769864 -0.97070071086986675635 0.011337306279459929276 -1.0726301899468511092 0.39360886964531316412 -3.2921412453645411134 -0.32082190556792539171 0.85972206399940942489 -1.2926889264557928083 -0.57213966189600129475 -0.84450697630738591482 0.8196082042970292969 -1.0223648440316592811;-0.39967921977546921886 -4.8610701348290330515 -0.28547783125077552668 -8.7213845884125014152 3.9064777462358719617 -2.4552066310424698337 -0.98836693226640370824 -4.3010950599779222969 -1.4528283868191369521 -6.3640281325932361867 3.5302361067354057766 2.4423274270603472225 -1.4261321061789020703 1.3624282248256955885 3.5818287243783273333 -1.7255551150439303321 7.2649795512294881306 -7.9680465880210666896 -0.19567137368596357327 -1.3880994571320588449;0.13101716819413269932 -0.31061950795873616293 -0.047792633800464695559 0.81126367744685934369 0.22469579769180961226 0.87130589735341179569 0.585714599735894903 -0.3598241949416469132 0.22479214019234605715 -0.79287005681095001908 -0.037285835686030138758 0.066396622340827299302 -0.48877967252334969528 0.054478523138105208745 0.40052553160567266888 0.30972591935343318781 1.2382728652242949163 0.53214244754474082644 0.00099185553003345097722 0.55909748839309614254;0.097034807181046997537 0.51993600787874594271 -0.031478324549082552231 -0.26298762320504509571 0.22848217376636106857 -0.56730057285004786838 -0.19990798225090664064 0.038772108709896738188 0.42939701960892728838 -0.92135109180918617344 -0.65251434680204700722 0.15102262764243287729 0.44968171860641975579 -0.082694041133482526496 -0.38518888112923033162 -0.080254683942697913057 1.0419917328596295381 -0.049676514432208461469 -0.24615222518968690735 -0.30901646541361088572;-0.48743164282098488949 -0.61241041893514625016 -0.17066784242303431607 -1.0618315080146611962 0.34191921973158218018 0.80862119960654199602 2.5781159820271866145 -0.72370110441530133283 -0.40306770119056739565 -0.49381645006304625278 0.32701829983711894201 -1.177393433002074552 -2.2088967126454646106 0.073770019805910677646 0.2226166682845113487 -0.19611066145052202803 0.93643678310564570921 -0.10839593578897892268 0.053096701417310022963 0.44212937331252555317;0.45508544765107561414 2.4496268647292214204 -0.98152276830222906501 -0.053564830529254099656 -0.33035235572376459023 0.016303982386754258677 -2.3933564541149676685 -0.55055214143175279506 -0.7867131419467773279 -2.4823622249998567035 2.2510122530609173452 -0.2362868557599235031 2.1690707487333402703 0.04725198254021772265 -0.8388421136598998018 0.87121762003920344419 2.4794271325709513754 0.23968674836392528382 0.91192291155837912342 -0.79973335087137009669;-1.5002793919266919076 -1.5782957078493367042 -0.45131322058049105905 -1.0013770187563890701 0.35179686453492720055 0.3016957893230959864 2.9030678221585244358 -0.24316120602445553955 -0.17581249469440515809 -0.8952318105597538711 -0.74321445403318031619 1.3093477765207146568 -2.9097093075828692754 0.50255758720800436379 -1.0552441442810471806 0.834483048965630414 1.3593281360459577023 1.736414889140338591 0.57098269924347244686 -0.28746372046122042887;0.49642597457245363213 1.869285686707294003 0.18335366415019771491 -0.25548740885980369963 -0.65013675769394807524 -0.22242295063687908541 1.3238123750269688017 -0.17710462699228368688 0.37316041305445568632 -1.3109474038145467745 -0.90153871719517753025 0.11276071045986058028 -1.1510651968113216892 -0.67867896112147818588 0.38856568981746281155 0.09154708919179638249 2.0644550590383183852 0.17901374786588297727 1.0881916492118084427 0.53636664272793499464;-1.7471561475672845454 -1.9956040400318701966 -0.072111930725921050134 1.0810961469019053638 0.28005352039123682095 -0.44770406707682453007 0.31169870873103083797 0.97662032378191176996 -1.6100657210632964844 2.6586791875829023368 -1.4543253995791485256 1.824242477408320795 0.42291439679317227585 0.043444665322704169308 -3.521219203264438935 0.096627187939910652581 -4.4582873546960781752 6.2455587245736836621 0.30992034007775026705 -3.2578833430521099146;-0.99219807260530745729 -1.309516562817640617 -0.81500194000559456065 2.3741158124790229245 2.2201395208065122233 2.6941665363222853102 -1.261756321585834506 0.29003034167933194887 1.2315717336339917498 0.60699543667096411692 -1.367309716269989428 -0.070387582612242372004 2.2468898048121417332 0.60436964074322796492 0.75526358700749418595 0.91396627517311823663 -1.0263046996495672758 -0.095655347293800763175 0.19941739872162853042 0.14692690965879684484;-1.5014495377626797534 1.6940067615876270857 0.27325568013598017236 -1.1525046749926974865 -0.60615403722357508176 1.6241448274915240013 -1.2096471960486161468 -0.3551716898098011832 -0.21285817025701361804 -0.70870968114223220624 1.3665186557549482416 -1.3835796456686273448 1.2580898305791254899 -0.44407056122594462666 0.95931484553279511296 0.79200493240166303099 0.3442621821776928881 1.8403864660664619457 3.1235751742398356612 1.3902749189009595554;0.5879402155062338764 0.42723447355099641864 -0.03858989053102989536 1.424467981394873517 0.47097234775778157312 1.048873469447800133 -0.97903606701110124089 -0.34149690639492513711 0.57605154119207269137 -0.86336198400593811009 -0.02411872263000228514 -0.5579631646919855914 1.3086787340777239486 0.23117794803975671991 0.17806031319483975328 0.59340562302180099863 1.2750569453791045227 -0.036947425181042790887 -0.41181095779243570565 0.19353325473397059442;-0.66175588844325372584 -1.5047654226251612197 -0.51049436767533185044 -3.877488931114616566 -0.17393756407241833806 -2.1779772542865014628 0.96279492636775554359 -0.27809023288809575636 -0.81065238672090056404 -0.30451033598588350682 -2.1636727483624018653 0.68000569772443109073 -4.1706125923666865773 1.4204224166573218291 -0.11713300244765954827 -3.0511681662127485559 1.8213142076025499172 -2.4498091664098295972 -2.8352576201705232961 0.6731437575666309181;0.094707399499292160838 1.8964574278256038919 0.59191382083404631143 0.53259685232140774325 -0.75337341172716276727 0.57876690856142398722 -0.94386885336462200691 0.10804036318223975144 -2.5792322570592656206 1.3425918585069525069 2.422446597748206365 -1.6246329679545528091 0.56979845401529494175 0.18160847015972506058 1.4394899404454635228 0.63365238337151430503 -1.2466830945254536722 -0.99602594812408173919 2.3027314050479530394 0.020150882310741011216;1.0945952271272110234 1.473391545487091836 0.79825684362491411417 -2.5139030387183614046 0.064478115194140567246 -2.157345014602136235 -2.137660464838218477 -0.33431559832498580764 1.0008414987729359336 -0.56339550756009615373 -0.53422382171213067537 0.92684054002846671949 1.128883127891800342 -0.00061083554885839981205 0.26394657620446893009 -0.2715859022707283188 1.5313905993918919268 -3.7418314094704054895 -0.97941474581654230924 0.86324770929485772353;-0.070466232070960879708 -2.0473489716239918756 -1.5586379606374178852 -1.1120344552794596549 -0.9617651319956618261 -1.8716102661737699098 -1.6188804484950578555 -0.96738078801729265876 0.044950057208744141624 0.4715023371924456641 -3.1127538721325005433 2.4669835613674071517 1.4764802059644819288 -0.076901478592153793556 -1.4435224687905683361 -3.9783872350052478239 0.76862211443627281859 -7.5787372238327410656 -6.0571935125213585138 -1.538572594572057417;0.058787808924667749044 0.63106266546976597098 -0.18664018637926282906 0.83340123942987087702 -0.96831508776444086273 0.41182339842577325717 -0.63437000575901403288 -0.15915076631718336198 -1.6726444650863099284 1.6437916445935050191 0.8671481989333142959 -1.2118759250483581713 0.28378620276915533793 0.23670394807481501265 0.050050199631734751393 1.1628505980656458352 -1.3650980480196628353 1.2590104003848188174 0.28850713731169613796 0.13535482303103171797;-0.6796831205185399627 -1.0520149526006843388 -0.28346271949605428286 -0.55062262295372454979 -0.60165565998624126465 -0.089245050250513366374 1.9036860548210803312 -0.18591620782265180778 -0.42736551913383186152 -0.41440064955780081535 0.49326386139891170712 1.3087531233592566426 0.03028182627334595825 -0.27377752715280695428 -0.76916403443227621128 1.2104470870362262769 0.32886646224028770469 4.7261089715075446094 0.84611912897955865454 -1.1776379292293503998];

% Layer 3
b3 = 0.16363715972678927191;
LW3_2 = [-0.081701025594073800606 0.4616506474374051372 -0.22232400861761159039 -0.17666064120736341136 1.2950029619294103345 1.2572296615017193311 -0.47612093197981769643 -0.17568575726260812764 -0.18807204833841037472 -0.43139723025966175696 0.063141469590670754042 -0.19837227270309804039 -0.12391412718184623143 -0.8670493782431591967 -0.32351432533754820309 0.17872311259717116316 -0.24324644074806961447 -0.12336493217621674612 0.32910534008490910374 -0.25744392457448495026];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00314743155299998;
y1_step1.xoffset = 1774.26765577007;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = repmat(b3,1,Q) + LW3_2*a2;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a3,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(3,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
