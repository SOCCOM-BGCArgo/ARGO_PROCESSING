function [Y,Xf,Af] = ESPER_DIC_14_Other_2(X,~,~)
%ESPER_DIC_14_OTHER_2 neural network simulation function.
%
% Auto-generated by MATLAB, 15-Feb-2021 18:30:15.
% 
% [Y] = ESPER_DIC_14_Other_2(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1;-0.999998793562952;-77.961;0;29.715;-0.9];
x1_step1.gain = [1.00000000274156;1.00000063368067;0.0138606862425759;0.0002963841138115;0.248478071810163;0.0419287211740042];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.8727911530134506712;-2.0727086162699634997;0.73153501187735237021;2.036880546277743953;-0.1305838566562781411;2.2834948876718819122;-0.69355356068222473453;0.40080413972154299573;-0.07081637162810859587;-1.302145633173802608;-0.48486962350579010383;-0.47575974218123084913;0.64485663886074839901;-2.1239404198197635587;-2.8133629209555932604;2.430944333858193307;0.9797027216872821187;2.7632386917117930381;-5.0166493647491856578;0.74532856167460848074];
IW1_1 = [1.7185462587928217459 -0.84478802056366375517 -1.5106831043333623921 -0.058514881298972594437 2.730865787897655661 0.52400407613294708309;0.50434163119536035147 -0.40343906854522754157 3.2105505019982336634 -0.70898303801007167557 -0.49512319691375550335 -0.1997328893290417906;-0.42384582093780687195 -0.29086976986983786864 1.4180505237570719679 -0.010754357816449063717 0.19109018430129232069 0.16038305215493789402;-0.93573798962903309562 -0.083984841405611493359 -0.76617976797535913835 0.16061886951204285001 -2.0847406160758814586 -1.1928461831609920019;0.70561777469219311154 -0.29040015627997894931 3.705221017468924849 0.12951929164315093002 0.16214084024971159304 -0.082807707845110226086;-0.017651554326861673 -0.18054401445874154741 -1.0799493358630032347 2.5163232440659628608 1.578024065738140802 0.87391207653998648208;-0.081513278722725679426 0.03918224088176040093 -1.7586412008737248858 0.3636918070884576637 -0.59514483199770307209 -0.32907069157363971756;0.37666630266835643415 -0.1272137939627468739 1.7722567476563049205 -0.56398527334431769464 1.7069545723937775694 1.284174814355308003;0.82551746788350854889 0.16966167717326430253 -0.61858297961439601131 0.50186173288655322455 -4.3852369262972334951 -0.64722426165091884176;-0.12328019489745965787 -0.48690786298873028892 -3.8711479498989018744 0.55318722148807564221 1.4132326465629321266 -0.28355369282491815763;0.14722868601186744897 -0.67629659671499864348 0.59917696282761556681 0.16551436779304151692 -0.95829009879929505367 0.55738088847680555826;0.9319185388763461253 0.25981215954346509323 0.43736270624145234809 -0.37652450520642088971 -0.98792713400610254748 -0.23770818020870621012;1.3895508248193704226 0.72017865991858698305 1.7861442489530441335 -0.59194453584785511335 1.4584617854844053042 0.17121189224810348661;-0.41313108936273773564 -0.99596653733919315865 0.64663119543756220065 0.31653870514626103461 1.8100228524512023132 0.74667346227271169656;-3.185296471674059049 1.4496978273897607181 2.65259948928956657 -0.56634684457588402307 1.4040903244350990686 0.20235680454945034756;-1.2427130169857745212 -0.14442738254091050387 -0.50330858471791217745 -0.12108011350271721818 -1.4162541631300693545 -1.644524975435873726;0.93992159373286554569 0.74593297369238265038 0.38986570865963521282 0.17248824869329351661 3.0152397331719549278 -0.17087884527074928553;0.78627085620764392004 -0.54868244039772184895 -0.2574752882402045473 1.1618436816547164092 -0.15316019373751363353 -0.12439192507253016284;0.22526898520113755597 -0.12103397435208944344 1.4883504749872806805 -3.8893702068662490134 0.30049953026987225035 -0.55735041340910707053;-0.050227515291347071824 0.51138227764285881793 0.2368399758303691427 0.3733532298281395656 0.50123256989656317373 -1.3018724270940491561];

% Layer 2
b2 = [3.8271076414844102942;-0.69643661037520365742;9.6992723040482307084;-4.1393907205557347595;3.3785018431642592773;-2.3078085415662612512;1.0324921361910348594;-5.5171976278607024469;-0.50484269544262883045;0.039128046819609720031;-5.9525869743925143851;1.9304447262810557895;-3.0786525164928448817;-1.3155447318546948932;3.4070757399984881175;-0.2069493650247988259;-5.7609486051529872341;0.75280434330977685775;-4.0417725812021298992;-3.544044546936510276];
LW2_1 = [-0.073744541561250501194 2.316196651058174627 -1.0153375779266300416 -1.3852472917657057128 -0.12833529504047369585 2.3831419121375394532 8.7715597890958285632 4.2467456806317773754 3.3858166539935896644 0.15901025374841692983 4.5130629597292362121 -0.66527926312517104979 5.144334925399697056 -2.3717301228889695608 -0.60827241729643666268 2.6278141972945334714 -1.9559763417571631727 -2.4633188206634226702 -1.1317519216345712785 1.8941489827395709966;-0.28138906195927404497 1.1578082806617588929 -1.9890185643834970008 -2.1853084716448987201 0.25129015485403327634 0.46762471356830465075 -0.71165952679367361355 0.064740345210492128425 0.78567372784931577279 0.16442158571054782401 0.67124339927038423337 -2.1522370435536068989 -0.079472854819729363274 -1.3918063335022754501 -0.055668332093056299703 0.62644661489250996755 0.55978981377454406498 1.4557111911743971788 0.2747493841371571599 -0.50531156929067366779;0.33732527631064784801 -5.3930087418592052018 2.4692673447415796062 -0.91983983778787692387 0.19245715020266987438 4.3127163716441492269 -3.2921976377328441288 -5.4294217433465279399 -0.94015438395746153688 0.14319295332664330744 0.34130030454617710234 2.2187500402596205262 -0.53385507950715915815 3.0553252242366295555 -0.68247633134518748133 1.1897895705360868046 -0.19508919728570722762 -5.188614011458898112 10.266474162972929918 -1.2014530295698284679;-0.62659480244181020581 -0.18816379298625052208 -4.1732021612447258718 0.89997769702544005987 2.1483171427822260746 -0.82841276169492072956 -4.1370262954126548749 -0.33103752614718490177 -0.57493471871532930706 -0.083539541024731045482 -1.1073880765032229068 -1.8521695490249148186 -1.0704278652908065794 -1.8966539568312670294 -1.2858730767734867229 -0.79802843021096625531 0.22326624086586807638 1.81602081081524247 1.0890448596901487477 -1.8203975613015168644;-0.43191985244336050798 -1.0615849829382539848 0.59646548852761926973 -3.1380855620945689033 -0.82154843601506422068 -0.50370459499132214098 0.99078268597640095638 0.26442437220001308029 0.040599094135061145061 0.21527236778500613568 3.6609313353420289694 -0.13903694599784965913 -0.13038369964299262316 -2.5338083156968984611 0.20028641584023906819 1.1021627709610368751 0.31775721547069551987 -0.39268678582275573508 1.8516497850258959446 1.5221658871492924625;-0.67507300851587503931 0.57726667980949242232 2.1237243721769054616 0.41960820737111981238 -1.7994920936812928147 0.057575996068007256889 1.8692702452810077141 1.5100915942365922273 -0.85668931884054877468 0.24604120401840565147 2.6318350168472424144 0.39641732265605822416 1.3660740566503917215 -3.0586504707669810443 -0.45088659383219970023 -2.0356627078886431192 -0.58474223548556680807 -0.32087728730043146852 -0.75662635792714583172 0.93203895464551633765;-0.28778542436612813971 -0.027789284510527263727 -3.0185201261545882012 -3.2559140706070990312 0.1161206282718168642 0.42193966740739841104 -1.8277123397824710516 -0.62070854103725869866 0.45659878671261444616 0.36580977686878735078 3.8846345669771933373 -1.6172023437874438745 -1.2555909262126572212 -2.8260029136099915625 0.48754745923144265918 1.7089063998868045946 0.95781333222142450712 0.26234843366554538857 0.51951145819168353945 0.60420725996981650141;-1.6441891046789776087 3.6487626418614285129 -1.3309054782679305973 5.0262826637111794881 1.0291254140250809535 1.1696808685282407136 -5.4152333163160548679 -0.37176867879328195921 0.6130228784922464591 1.7932898142942543807 -1.5191274978612177016 2.7464784735471607924 -2.6246215205806588955 1.0308106041604854219 0.098743121755342999624 -3.1491135626770807576 2.7664423793550092512 2.7243748890691228404 -2.3373408591203528317 -0.62783121426959664912;-0.93703115878401155303 6.4137984918347434871 3.0362254202989178431 -4.4388596789730891956 0.72069392066413340281 -0.79164679530665094109 -1.5432738126588156913 0.062978583534773799335 0.13935103318856076338 0.92464896427097253984 -1.6354710656804656299 1.4899390658867051052 -0.23452331960035666114 0.14115802301746910308 -1.263019982923207829 3.1690520338926568833 -0.410437038848700253 -1.9190591527111475756 -8.5393585335805948233 0.73598041864019314584;-1.1872021379964667886 -3.5855628137978032832 -0.39731029810943968572 -0.58419172252562456826 0.41107785994242951322 0.88549019771756620756 0.082265387308093587682 0.029541794642804909687 -0.46090534975172647858 0.84540069376147697344 6.1315348089561512168 0.54023859346928582159 -0.20175206086524011262 -3.4062679694171702494 -0.3981061648862533886 -0.84364659864951774271 0.65548431439561138934 -0.05993885498973175463 2.987415130084976056 1.4976012934452505032;-0.54191076745382471547 1.5589758649186016282 2.4481936510622297476 -3.0301131009120769733 -2.459536160837725749 -0.45694957365847066466 -0.93614706050311002894 0.10302839158209589621 0.074739056466500017328 1.4491269716202899165 1.4945575266318518182 -0.089546958374182569762 1.8848236986569819607 -1.3556041393340587664 1.2559859684432268523 0.92264087347433787478 -0.030250156989368497118 3.5970097817503416948 -3.9241971408771476604 0.89320199216411111376;-0.6842346790891704611 -2.8667016068282209496 0.11948171179389575902 -1.6564226576336789076 -0.53511731418455343867 0.2788248257606389946 2.9591975444170026677 1.4673570607585055825 0.19001638762553429984 -0.084744154099424401361 2.4337137810969591278 -0.77650423956107528234 -0.39327028623646070882 -1.1493948758069916227 -0.026091017742155407644 0.70967046236651365465 0.5655281210821995197 0.10914833607840795926 3.3625187819687041291 0.72234116393494329778;-0.84482415536535448997 0.39697176423543295565 -2.4814121894810621249 0.19406879565172241442 0.75380030128499619924 1.2016631506754398284 -2.5585608792619201068 -1.6252458633440305391 0.50571271251816796166 -0.88484548407063623454 1.4922376849425456058 -1.9583522506727684132 -1.0479294598231563285 -3.159675393541759636 -0.55642885878617820428 -0.96852724488374630774 1.5684470322815489141 1.8211679637323212599 2.1816257802695115942 -1.8511975723938922656;0.34430814590745950632 1.4012566198776730264 -3.7752561069929218007 3.750215724959717889 2.6434858743240381429 0.20843347483636287532 1.8167525110720474935 0.53495790847227442377 -1.6319319489413939284 -2.4547350317061100711 0.61909932926515054419 1.6933006313582694702 -3.2312581165075728862 0.47154613933599676123 -1.0496820727066888956 -1.0573659330793825362 1.3822753847981992248 -5.0018896398432097783 -7.5929989402442030766 -0.80670564519552390159;-1.0225869128174396305 -2.7252171545801737729 5.769243048814575836 -7.7716918714607476915 0.53943973441254466916 0.91508880716540930145 6.3188750213014612811 0.66822817515393340138 -0.8205776402305506867 -0.47916891435819941591 0.39113741411215829924 -0.19204319333804131809 0.91199061565519101702 -0.72711895453320396498 -1.9558166059753303578 5.6402906764785303295 0.83934104182853119802 0.45478658882482486669 9.2563194771439043507 -0.023249450736928359978;-0.47936352696529194173 4.3972614610688509629 -1.1138551096188842315 5.5157506215648535175 -0.59749966974871260295 1.8715755805083333918 -2.2394746639221376761 -0.48640703059431583677 -1.8058481194453006591 0.78868744499482679178 2.0349360656839934336 1.9131492102784106724 0.36376742738398115673 -1.6149325052314040807 0.98053544707078388321 -3.7845883401322208961 -1.8898811009580018805 -1.4000578643588530436 -4.0839567989070371112 0.61002167831356735039;0.20517933088211068315 1.936618347393031625 3.8532456095431850684 4.468479205852038838 -0.018809835820308713761 1.4660724515177905314 2.1344359082049546572 1.8605648572729207579 -1.0893675390297972161 -0.25611401942073286353 -2.0179376705773615086 1.9876323966534921173 -0.51203003184318629515 1.5195655846808016065 -0.25294985192089325388 -3.6445413601837763906 2.0106557628659764703 2.0479154439025522016 -0.74938290044574384918 -1.1247524607221108806;-0.16074824719427885378 0.12071628491610693346 0.59047488713361451218 0.33527738853992500312 0.21509116273158854216 0.4987053022100127464 0.44821880369902189489 0.081311490752841275587 -0.1972855536889654704 0.6746673494434484164 2.9506228046791673769 1.1621650245990036154 -0.2575122724234649163 -2.3767788182821774079 -0.19392817930051090003 -0.02028159373450341002 0.72601586048545163621 -1.9389544733209882477 -0.83614557859180249633 0.40721327748136365576;1.1518140248902675182 0.2099448371587495088 1.921971364771114521 1.7678758521118727032 0.42409323617739563828 0.43134814939313315119 -3.4308294709201616612 -1.2810320783090833885 0.3594309666362250355 0.24449191022229582737 -1.0278426032915721766 -0.40708581732682269649 -0.61392809338684750653 0.7942920996091420438 0.068365734355661400556 -1.4807714429590277394 0.15532733108917332054 -0.033930069085690503505 -0.49705152060296842187 -0.95958910408945419235;-0.44926364595524825862 -7.6735556061602618882 0.66613028155704134825 -2.7460222541888366088 -0.65438262147350556575 1.7831764152816969027 2.6145280813665192632 0.38476348970738938338 0.042954556838951024611 -0.87776905714586728191 0.52678006141440447685 -1.0762262938510904764 0.047172946308904700752 -0.20602952509644464896 0.2781167054975853814 0.57940816195214217554 0.15328718962383544588 0.84232728977938764459 6.1178752615716911478 -0.20366153488005347971];

% Layer 3
b3 = 2.0039218061600463372;
LW3_2 = [-0.044858060426235274454 0.61359488014531882172 -0.078571281481383342671 0.14444897477689211396 0.89556217310329133685 -0.21045952495278780203 -0.44520059502624254044 -0.082270106652839666839 0.13451070426473446529 -0.25998944789376271514 0.17202856405020394703 0.46032491994317920048 -0.29956643471305410831 0.089106768598350594157 0.056763133044209559963 0.160289516541826077 0.29739849486940056478 0.64595681508400137893 2.6569721572923010733 0.37142529996709289231];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00314743155299998;
y1_step1.xoffset = 1774.26765577007;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = repmat(b3,1,Q) + LW3_2*a2;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a3,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(3,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
