function [Y,Xf,Af] = ESPER_oxygen_11_Other_1(X,~,~)
%ESPER_OXYGEN_11_OTHER_1 neural network simulation function.
%
% Auto-generated by MATLAB, 15-Feb-2021 18:30:47.
% 
% [Y] = ESPER_oxygen_11_Other_1(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 7xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.999999984769129;-0.999998793562952;-77.961;0;29.715;-0.9;-2.02];
x1_step1.gain = [1.00003298043486;1.00000060321889;0.0138606862425759;0.000266418009857466;0.193068829037552;0.0415843642790311;0.00819772922900357];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.3725177640924739464;7.7266705171946874486;13.991897181116463855;-0.34588062350941828349;-5.3066044774709908438;-1.4139874725654153487;-1.5297583593295251969;-1.7542771129221637061;4.8959006845700097088;0.56000819809885094003;0.27448608186597056591;1.2612154069461336547;-2.4768856530174976349;0.61430686407578261043;0.62992657748218838787;0.55432745349442724692;-9.1140632479440153446;-0.12258776540721982862;1.70628619567171258;3.4135984628003095409;1.2343494212180541325;0.0015796018418100673218;-7.2271670535367578125;-0.45307023862610013021;-0.41762021214196254348;-0.4654849631454085479;1.5037938881203209984;0.047035874001185806748;2.1503628897728845892;-1.9403849632394642999;0.86764710250454579743;-1.2050230240470150012;0.60441218400509033604;-0.43254130974294796586;1.8588117596459754477;1.1449868655799029238;1.067308111899277101;4.8957772486446513582;-0.25502113092927691795;-3.6603699909415285951];
IW1_1 = [-0.92503444152948288703 -0.087045103844874655019 -0.55979711735055626143 -0.68147265374607812749 2.9918229977136534536 -1.3237347948728837022 -0.15818568586284936783;-1.1705795413422688256 0.90323524508118735454 -0.51685508861116169488 5.2095943446827321921 0.59910076094560715809 0.3915642963104001284 2.7666775833517864847;-8.3898282415166640646 6.5072374617258441631 6.3186858287968865611 0.54794344144682838316 -3.8504719378107354899 -1.4820015201681995265 2.6079858540618356955;0.2471001026615377294 0.26238848532579894801 -0.11607876411833596697 0.52037040739674444989 0.59759437204404464161 0.21442529077361371925 0.19028673676745627708;1.7241229984311892132 2.3675457737102121314 -3.9348126118332622525 0.42840192283307537702 -5.0230052397164204336 1.2171061711979225262 -2.9728978477608607456;-0.98359259222278461188 -0.14601790299017586294 1.1878350028331063903 -0.64751224672507146085 -1.0068299850233406456 0.80723551825271799842 -0.19390604537488517756;-0.22104988889784077388 2.3059650355883349881 -0.20600415917051220771 0.90054822765384079375 -6.4754367272487955987 3.8154164097480078865 1.5690257675929881742;-0.68127886533936310443 0.27722104741895420288 0.73782420069096810167 1.1158288261712394629 -5.2584513333320002104 1.4009113831275945561 -0.7059403117152983631;-0.10993449113264158745 0.073430448132641643055 3.4201188314548365277 -1.1451171114037479448 -10.524063096889261004 -1.3492236732050411074 5.1327566210745345643;-0.23462858425687974084 0.1390662871272469181 -0.85925415704870389266 -0.62659117439876743649 -3.170369071797813465 -0.079762701821098527799 1.8716076183450578441;-0.090934877706976571798 -0.40838481282334226918 0.50225983872952895126 0.038252899583318164534 -1.0582752627090037389 -0.815947244518912429 1.0827855763973572856;-0.45373006626790685081 0.26149572414220229044 -1.8353817882705540931 -0.15495683877525864847 -4.4042711560137286497 -0.47291853569862996043 2.5301435477747555858;0.072013322902415480287 -0.16996718343100383763 2.7875624354902672764 -3.755947736758306732 -14.823954274842288115 -3.1963880978637777552 2.5988911652663793106;-0.91700989743752525651 -0.77328276304126508656 -0.79086749375335441137 -0.42418469555956594963 -5.00753254830623451 0.7603826628492902362 -1.0932846403044553796;0.1304330306359887115 0.081610327605268165319 -0.38192834813699083618 -0.27137381366386109649 -0.50961203434873747486 -0.92540059614075509398 0.21275242368140709348;-0.1012405997618456982 0.034405852317167383292 -0.062011133619576261355 -0.47926699985893378431 -0.072351400955801434267 -0.92111028869279809594 0.13013923745533004239;1.3474595177575856564 -0.91236130355515132617 1.0389422574254305598 -6.6171503521552228477 -1.0141352760964232882 -0.28297384261056846011 -3.1274731824008941139;-0.024236888687673673048 0.014067498345132645882 -1.1946386362337941822 -0.37143336505215446275 -6.0646574140159668076 -0.52325793884934845845 0.73778432422827855408;-0.23795304024916399954 0.056475364564025819225 -1.679181175163377171 -0.15407976642875673146 3.1717572160160703021 -0.79704296448083877813 0.086929118415019962507;7.59114881877764347 3.3830791380891662712 -1.6507074755834858504 0.10016260145946334625 1.4982429519555862107 -3.6554540873716945271 2.2026515308101002333;0.51497364126047451283 -1.920992928634556618 -0.20889928416463474092 2.4083401474546484167 0.68598362317103034336 -0.72987031303710148133 0.13418684610373068922;0.12635998428201564159 0.46386057277887504657 -1.0829229907378359332 0.78655298326693723343 2.0498450118676840859 1.6590959695073941305 -2.1487181397239281111;3.7049179664127711575 -7.3774971117640024687 2.5673646965103009698 2.1567336698918957438 -8.8081194034329346465 -2.0009297510589809654 0.95850602896425640687;-0.29919439010494019993 -0.41344375191613569331 1.3580736234190409206 -1.2949211526217607737 2.5989187810635416831 -0.50830807941292932561 0.28495459148138402306;0.18972627561876032054 -0.2261455985265892199 0.59157133467005340588 0.70788251846359595554 3.0056672396863941543 -0.027451569566694325464 -1.9768655041433349506;-0.28137486884253815056 -0.52806495886931281714 1.4400168007403766346 -1.4130914366691307293 3.3540745489352858932 -0.48213487110744918107 0.0089662069596069832872;-0.80237135823279237545 1.6320744676864360478 2.9374392114156866462 1.1972429654401051113 -2.8897133075999432705 0.21294786706853763292 0.24049695113095831411;0.021870936070630397907 -0.028956970984474392911 0.95469283987954955961 0.2223908106093115955 5.5943413254322491568 0.50608877304393540264 -0.66735778021955105554;1.3156449508054626207 -1.0230092951233766829 -0.58843779738362800291 -0.78715481885117699612 -3.8749959909151527881 -0.64329687655209388808 -0.59212624839694227852;-0.24491906623830408951 1.0162979986681992539 -0.22610123745809262985 -1.6944470047658690692 2.8108297220036084774 0.89719345777681702714 2.3727311655996383699;0.25758436686510710611 0.26890060386084563282 -0.4934146273236688085 -0.010459186063247279466 6.0676546193609839364 -0.73474620750095853694 1.1148762400656961891;-0.1401996526580596425 -1.5712157935851125412 -1.3518473740086416335 -0.011098464660690405756 2.178453764392981995 -1.3294350673019834641 -1.4054762242564207142;0.23941770646642071552 -1.1017712591771628983 0.74528127309468161776 -0.14430915385736145518 -1.7378216701499924479 -0.14845053076914713208 1.1466613155601941276;-0.81008059145186961381 -0.11054019646753680817 1.2030949197861051658 1.0050138990906949399 2.5429735118137308802 -0.49881980237713591242 -1.5263008244681945946;-0.037814214652375832681 0.044401131955748872338 1.1283450532728374061 0.42528291296306042213 -0.7330639092203891094 -1.3167018460036452598 -0.17128715465753821534;0.50757374387114495562 -1.8533349253133055701 -0.17377350340463934564 2.3395914050813422236 0.2037984639013409871 -0.57966878206242555827 -0.054474585697105712412;0.55177224172642758138 0.97277900097004776914 -0.43439032004146654886 0.85347221708621456848 -3.3689964441549071772 0.54261040993599940485 -0.30004887995316020799;-0.10771590817517102956 0.045817960016670190859 3.6655557046224895856 -0.94369220323195879274 -10.853992503764450461 -1.3717519328470824114 4.8261444879876558289;0.87491439725933428662 0.50432161379893514219 0.21500118749735408485 -0.24015027032954913699 1.5778888495596159469 -0.78871932734364658124 -1.5842168519025827678;-3.2706689149410337336 -1.820874370293149358 -3.8641814655493820219 3.4953986073967531212 1.083600245588497657 -3.7600648186279199692 -2.7445952135677007533];

% Layer 2
b2 = -1.6406480972265493623;
LW2_1 = [1.2418776797256996236 -0.78676393549122602966 -0.061190356539089663102 -3.6859047359124632592 0.095775442857012380027 0.84477097965612479857 0.068556234886010411489 -0.93439282917121535554 2.7696569229513552379 -4.5761200099167300692 -2.4801853918280243327 0.89213397864750576538 -0.13982748801408406703 -0.6374834976575988188 5.129982778926824416 -6.8351786920821364646 -0.59294592878999818897 -5.5730050528688535039 -1.1608927016507597507 0.034673048720186831761 1.1648072283480908062 -0.80632619859047693911 0.18980807025690887846 -3.7759985704447598387 -3.3855908433555104153 2.6691497356033049293 -0.14500192040095274959 -7.1029423695275681894 -0.51603863177793540817 0.20803518345645383159 0.6096628447167248277 -0.27250630838691142221 0.62944862466036632931 0.79448946148163768211 2.2184308210670637962 -1.2664000458804611782 -0.77319188547586015225 -2.6201055277744971228 -0.32491880894969649152 0.06043851453535212942];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00454442172233583;
y1_step1.xoffset = 0.3;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
