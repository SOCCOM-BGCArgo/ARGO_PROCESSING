function [Y,Xf,Af] = ESPER_TA_14_Other_1(X,~,~)
%ESPER_TA_14_OTHER_1 neural network simulation function.
%
% Auto-generated by MATLAB, 15-Feb-2021 18:30:04.
% 
% [Y] = ESPER_TA_14_Other_1(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.999999984769129;-0.999540494077341;-75.751;0;29.715;-0.9];
x1_step1.gain = [1.00000001035699;1.00022983623563;0.0140762793578401;0.000302617642608564;0.251952632905014;0.0422119037568594];
x1_step1.ymin = -1;

% Layer 1
b1 = [10.151137173231667532;-1.7121332337263275303;15.973741035913944231;-3.8092522317167283319;-1.8729538632661066888;-1.2730374274697988657;-1.0660968230835807802;1.0566658380091158431;-2.4979677526665424736;1.0717390524462004908;-1.3905910027242698312;0.31797119712476779041;-1.6386795837760903538;-0.1189503774446890455;2.6776381758508898123;5.2038345555651641661;-1.055967469277154791;1.5572897575208373144;-4.6642301152328400349;6.3167186383843816344;-0.41242692580029627347;-0.37611143190115803314;-0.049181895136873918228;0.46242378048116872247;-0.3112124835664866751;1.4485598394805345723;-4.9738459225872784231;0.10540106269782339998;0.7707726831684047486;0.18292328152831138777;-0.68999238302440346615;0.098207236795286589892;-0.025549202301986595476;0.41231042706173265389;-39.475553307474790188;0.64875369725510090291;-2.6671014526526324318;0.38801165966734763035;1.8446520901302705386;1.6928625511196631059];
IW1_1 = [0.11998442135291177701 0.7679292413491750624 -3.3164930350016641469 -1.9177797697932086329 1.9652251418487667323 -0.79571532183027182672;-2.8809660212537719914 -0.014471832836813200776 1.7244372187676770825 4.8099575819287290201 9.8578575618557184868 -2.5661333328366415785;0.84031293267865170282 -0.75953340308500971734 -4.2799344300451194201 10.656833959917499044 6.4806225283506408985 -2.4466566083666654308;4.0793134160356014917 0.0044387258845075897029 0.64890261151090145031 2.8902556799612506566 5.4708449678612787181 0.5998195200760467749;-0.6866846122192551416 0.69587351279176745678 0.75596422727505896422 -0.44108430827891226267 3.0855066521474592278 -0.8159463524563445036;0.20967032054701331689 0.033482142624369999606 -2.1703574757967079023 -0.044747674143688707937 -0.57920554610747709834 -0.074232230140633265192;-0.0019694433158565709079 0.060365983858592237032 -1.4293485990691394694 -2.1114290948062093278 1.5190873913049620647 0.22326037775693155507;0.0043932507341258664538 -0.056486821653023405743 1.3634872117636729349 2.0166199294535265274 -1.4469655134824979115 -0.2107459508980963625;0.53525426107565898803 0.38177724186806100137 7.4612692276635916855 -0.821331953603068321 3.2416960318960614806 1.7503731879314825548;-0.20201422032902580095 -0.12079604455793721551 1.4927030893021984159 0.0083115315761354401775 -0.019742237686476243191 -0.82117133604268344182;0.22793108879632850705 0.15327992731552675387 -1.8819473762184191212 -0.0095668890675450219546 0.36170897420017023016 0.98078783309385875189;-0.23141878130492321564 -0.20575103437454930755 1.652844284526319818 -0.69217771811810424598 -0.017926602295007868643 -0.38439044538595051881;0.07719382732741471298 0.074404131894323155549 -1.7533575766543025853 -2.2554251135747556134 1.3068132491933539541 -0.22460397660168557321;0.48433985214740182812 0.52148847317251312283 0.64912942205178392197 -0.60324566562116432866 -1.2598755097812672776 -0.21052211754433808322;-0.38779021829560222923 0.071791567491889071717 0.21626533461214161869 1.35117656949545073 -4.9803482292039227275 -0.58604076324586895641;-14.6612028165121977 0.56278547383115040681 -12.793103450169517998 8.2038057072071222109 -9.7391469500890277544 2.0529452427453880325;-3.7563300462779896094 4.7511975472295127076 3.4262331643197483366 0.71810496673733092976 9.1825768396319613629 5.3909684928285477312;1.6276756678162309644 -0.084188021088860559571 1.6416085500995960533 0.81862977271204473428 -0.054808903287005758531 0.11423618598308089844;-2.5590988068367366282 -1.2703844339179355405 -5.6871660003234509873 -2.7401830614613333914 4.3746713425806094122 9.2368165865789233493;-1.7713209367638118596 -1.7606619146064022008 -5.2215141601136378924 3.2874708951279738578 1.2958740199193512499 2.2005714531770186326;0.068603913884052777905 0.50791772604153484494 -0.073842882868732431789 -0.37567425318374103593 -1.64226440476417479 -0.8649174487087631924;0.24006921969825867347 0.22416236457270477533 -1.7811977907916245467 0.79235921244712281819 0.28062741495687903992 0.56377059616722113855;0.22312990837765311891 0.12289276900862652897 0.084739848050482444175 0.03262299156877913886 2.0396441021889089029 -0.53664365931906177209;-8.791699677866915863 0.99595406465198388357 -1.0791187073051180523 5.015186894608754109 -15.834306564050873334 -2.1568960376791195266;0.22524145791812177908 0.19401390402184273687 -1.5798841660791780317 0.64103349874919024476 -0.09465597445561488299 0.20293494065055536768;2.0446372422180845163 -0.57343797146858954683 1.4056186859242434384 0.86226889357196734309 -0.92670932797980631879 -0.50350595943039910818;-0.18356130240260370989 0.29760926366804990595 3.1449817644073534417 -0.311377841997698801 -0.62373390421437413522 2.8595506668381314164;-0.23436033690860233469 -0.10946494316408100778 -0.094035483893610508077 -0.075017541765132519926 -2.156818063979549116 0.6878250354553694379;1.7773702017427426281 -0.61975639275034788422 1.2183705154205908272 1.0567635439372167205 1.0816914663269197039 -0.489352294015952205;0.013712276872009147854 0.4847077457273723522 -0.44804887032741563813 0.41126343630623829473 -1.8556195968367799054 -0.86413657203925842154;0.45728322352220340807 -1.613520937587409998 -0.8634649352693924973 2.8138824336511847335 4.690449960265681284 -0.44169171042885563283;0.56955902895390597696 0.059840749720538856382 0.34616409592454239208 0.87565831024978491026 2.8051623054638192833 0.33083201717610283277;-0.48312448816543718255 -0.058429328967875733547 -0.24513426671559343517 -0.88288746276691532078 -2.9550385433120429646 -0.33539554593714687725;-0.049132872277787523196 -0.58836108937846942624 0.039126986073443718872 0.38935749074821390803 1.7567640492032430277 0.99246822273482659948;6.3484410333603706889 -28.082196755039127822 -11.625203358714349733 -1.3512245936490920872 -3.0826202509205677949 -0.51102986905413549934;0.4818897209396398873 -0.03127224896109320057 0.80373217915472383588 -2.0429154477655773192 -1.2115450107554819326 -1.3590771464795381451;0.31552425414973855888 1.2281783433873825206 -1.0643172187849316845 1.6899430616094248681 4.7404170983045386123 -0.050252961910534500733;0.46245410080351806448 -0.087587671140344894316 -1.8468845935587760998 -2.007445829456127484 2.1681000857316767849 -1.7507877702374790019;0.68885080455087766005 -0.69576788227585684155 -0.73188430858036324089 0.42966557212208150718 -3.0829738856198098951 0.78158873374323589722;-0.32952847177527305744 -0.10607014729709371426 2.7895069152462408368 0.21927195364823545698 0.10385961664348158928 -0.56804110908520388801];

% Layer 2
b2 = 0.63080315538591458235;
LW2_1 = [-0.57496667740157925142 -0.014900466446470769441 0.057671988700326456967 0.042513619962603249602 3.9084538922737066535 1.2416035124815354429 -5.2606194760380695641 -6.070016442205029783 -0.035116098366249015594 5.160898084486571058 4.572687759230356086 -24.927087739163667379 -0.63828806015463079859 -0.46637991935960498857 0.314407207643147113 -0.01054077092879194405 -0.0075830960479506045319 0.20564898538318721055 -0.010372597479472943013 0.049589379311572728826 3.9504753837381398895 -10.606713801481744142 3.5353317406481341578 0.012475628612591814839 -14.414500780903333421 -0.17798503259191866821 0.14681504950449808522 2.8510767291372114407 0.18158174384809933066 -0.67644539357939448276 -0.037527442689139364762 -4.0313642662134512307 -4.555710131679640007 2.5851940235544006441 0.15439444946031441463 0.13154776213527533124 0.18957955931999942445 -0.22218913690650110571 3.9911162921574869777 1.0235989082360148483];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00492610837438424;
y1_step1.xoffset = 2075.6;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
