function [Y,Xf,Af] = ESPER_DIC_8_Other_1(X,~,~)
%ESPER_DIC_8_OTHER_1 neural network simulation function.
%
% Auto-generated by MATLAB, 15-Feb-2021 18:30:12.
% 
% [Y] = ESPER_DIC_8_Other_1(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 6xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1;-0.999998793562952;-77.961;0;29.715;-2.08184650291172];
x1_step1.gain = [1.00000000274156;1.00000063368067;0.0138606862425759;0.0002963841138115;0.248478071810163;0.0588359962254402];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.94112441652214429144;3.4595076427235564864;-28.521364651564535819;45.134427107815561442;1.512604894785211096;-3.8306715135048969856;-23.876624982671451392;-16.877192820104202298;-5.3958059784967815631;9.2354492624586068672;2.9602266121161311396;6.84940889056606661;33.943447751627630282;1.330506281634719068;29.407823407527004633;-1.1934532186971331669;2.4111781548102388939;-5.8542326805180184834;1.4166842583960141955;-0.20560610470522702742;-8.5242978407414966568;4.0744712549568502524;2.3284128143135327527;1.7544939664400320822;-40.944863937366775986;-48.270983951880069185;0.54445446371359629278;1.336720111042932313;-1.7170562571143583863;-5.9158907903409252427;13.79534629008605684;-0.83000304229747923213;-0.11159208900543277077;0.89728164196600290747;-0.36080418222138321838;0.68070868409627960371;-2.2570413506247781754;7.4405912254645398818;-0.54631390032923721201;7.6344022503222186415];
IW1_1 = [0.030990930528326389448 -0.31735252186830920085 -0.68645267944174193087 -1.2831180933224837215 -14.910265405565708008 0.25709705903112123337;6.9849820110228613146 -0.036921689254640378819 -7.3686386115930568863 -3.599831465756557769 -3.7056927352029500611 0.55633650644626686521;0.091104035500441923889 3.5724532631884504674 3.128775397630605859 -22.10939146103312325 6.5316002894474927132 -2.4876312014048704846;1.7868591746388886587 -3.0032925296155106309 0.40606257366682779741 2.1314542869195265418 -78.047508194699716455 30.618111072354139424;1.010524250400782531 -0.29093369284356784821 -2.6112478510632035622 -0.032474537191899799371 1.8732742042495524881 -2.2094218753722065784;-1.0281506557148107905 -1.4906760371331237991 3.6119981953781987727 -2.0325764367044931724 3.323077387498635904 -1.4189139990641430611;-22.342775170864769052 26.386021306931265684 36.170014229176217668 -41.193558348700101135 91.014725634103228913 -37.985414762087835072;-14.032852577648780468 -7.4706280465024530457 -40.720912658013311614 9.3593462879484565775 13.769785842185582325 3.5839582087675281308;-21.423694926661806193 -22.329530510341921712 10.972741580791053551 -1.2375587110407200164 10.079511964141259384 -6.2357433523852359158;-1.7026510000549819335 -4.3959342252449298272 -5.4528538925134446558 0.77353616956982484965 -10.297362491087655556 5.4582784777485304772;0.97822401460736352341 0.434670917762230824 2.1578473179007464644 -1.8912224693441219703 0.28098319404828242529 3.6200893601404176003;-2.7629943053789958185 1.5385680604839568897 2.7636281365140988875 13.496004937222815911 2.1952403838842791117 3.5276890544290533391;-9.5749758150690862379 5.6521891058330187008 4.7016338982279020087 29.005134902954939236 -69.333455990384265988 35.118079300039035218;-0.050236798393012330188 -0.03170384584131560185 -0.81934731311333175441 0.87686917641489947606 -0.33431173719174533954 0.86319083468416801797;22.967448411008433595 39.913436241681154115 -9.6136454330102907306 21.292050034358851462 21.760173179757682504 28.010452733270934544;-0.026406420722681650526 -0.23869968050114462321 0.83136268478003971794 -0.55598356228444678617 -0.23476625060744932272 -0.87601832828840386913;1.0565705903734703419 0.39928690845909031726 -0.92844311644196342304 1.0627488865620784431 -1.0053107751041310269 6.0197595551273108683;-0.019823821674176185514 1.1224032831645400776 7.4665386797240431704 -0.66225363049481023037 -30.986291625376907177 -11.373851178108186133;-0.043038430025894955366 -0.50743235645645812237 -1.181243329326876923 2.0755393113147326822 0.83899206566722239753 0.33525484963439788899;-1.4710874916117784306 0.086905684341930383718 -0.68066665085739264107 -4.0588704411062792587 -13.928554703805875903 7.4126638980008285884;-8.5076564976503696869 3.6881540118606266354 -4.6761549778552167211 -3.1134428618541587497 17.127956439884776785 -5.4402776183119661013;-8.0024991252109352047 0.9118863781218833342 -48.253273558438813495 -37.504757308286968964 -31.423908967538675796 -15.159165234094873043;2.1643306883655224482 -0.28983759945131754021 1.0849246135805541424 -0.59151728829830341194 -9.6299686722363091462 -2.065860874699406935;2.7398430842339611679 2.5778961973511629324 4.3991299617967323243 -0.19783937664887829566 -2.6274883086404376975 -5.1482818555868670174;0.61964044391895367614 -1.7013066451558713776 2.0910544760290461497 -13.873045847907162553 8.4578170330356154949 -44.120771522183716229;-35.277602434268999332 -58.758093898128976207 -12.994181542655711681 -28.115619600411903889 9.3017668667524073811 -27.827328528336703783;0.19879401502596283358 -0.16608004058088216004 -3.9060100521998473155 -0.19795756643207662595 0.17734809556532032948 -0.45926801329356037318;1.6995319114156510754 0.89452542520476341359 -2.5390479407904158471 2.6981739568961340403 -1.0105346445141258904 4.0040682932875899525;0.40745265870963509602 -0.99202738033906545656 3.1554602823791557675 -2.070498179584857823 4.4948775231467674729 -4.2691989749639507323;0.29198628165081891295 -0.17413887398769983816 1.6162819552569060999 0.14921670725680205583 9.890325924005292535 -8.2069155935605753172;9.4937889542792834874 -7.4873104765503306623 10.193798647918892897 -1.3479556111815271802 3.9626882840777586381 23.990293164029274919;1.7388273743273887639 -2.3457355098446748265 3.5628726606031531077 -2.2765503638417743382 2.8248219959536182699 -1.5966622100557512631;-0.30544343238358090398 1.9353341447651892793 0.28011167603408620996 -2.6598856059240634231 -0.63016769092519087092 6.8678195014220859704;0.034486945132887650289 0.37327240609350287315 -0.73035109499487527174 0.2559638485187657464 0.68831566659549958676 0.65891266206144993856;-1.4526431565113329114 -0.89197307133982672855 -1.554175444575980336 -0.40274894680746342601 -3.7245839508724136735 -1.2810395756239987275;0.056753168250853976151 0.47860497674691415693 -0.63003624039496963771 0.019523901926588010936 1.1644018930920061461 0.48991599064149976561;3.0309489118965560195 0.7284962876306773083 -4.7734474409035341225 0.21990828250583299708 1.8921142238250538981 0.99350612468812382616;-0.79689993904548250825 -1.1678021509043943205 -1.7787489275077201789 1.0482823106490311016 1.9078143892961705319 7.4059201841290054347;-0.13475026325386246784 0.11505315953902543746 3.8399614993129702611 0.21513563730180260136 -0.11510857068379884427 0.41159454853982141431;-0.83482374432264194741 -1.2044302654264888996 -1.8628638217972586233 1.0942531693435049167 1.8893013020847004846 7.6018475486688812381];

% Layer 2
b2 = -0.044910395819191838152;
LW2_1 = [-0.075316071808123413733 -0.047034605645768175208 -0.26417952693880941695 0.032889905790806639452 0.26146834347798525444 0.15784522238666631733 0.0065241630119136553162 -0.015138721533263359634 0.013652222402007798893 -0.055251066274671592482 -0.12578773697126655051 0.023442005706268628784 -0.016015024283379589859 -4.058252134673609568 -0.0057944273548260483153 -12.428413131016156967 -0.083791720249322326763 0.050972750987082024454 0.26987415646185786144 -0.057021698421552031999 -0.024373048843291136162 0.0086930861598286807146 0.067591772604099056854 -0.040517084007457321304 0.016437948171090573102 -0.0053261736183705943315 -2.7173778930827934275 0.091103103862893622389 -0.11364991486817645205 0.10774015775311455989 -0.010652663737748657019 -0.068127566607866327231 -0.066362714443429365874 -15.701123686446559091 0.097990152284331860644 6.2630637181179853457 -0.086712376262085361089 5.3815896459302816623 -2.7697423057540224711 -5.1634683354520225507];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00314743155299998;
y1_step1.xoffset = 1774.26765577007;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
