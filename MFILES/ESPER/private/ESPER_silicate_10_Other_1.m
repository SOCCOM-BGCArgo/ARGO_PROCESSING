function [Y,Xf,Af] = ESPER_silicate_10_Other_1(X,~,~)
%ESPER_SILICATE_10_OTHER_1 neural network simulation function.
%
% Auto-generated by MATLAB, 15-Feb-2021 18:30:41.
% 
% [Y] = ESPER_silicate_10_Other_1(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 7xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.999999984769129;-0.999998793562952;-77.961;0;29.715;-0.04979;-0.9];
x1_step1.gain = [1.00003298043486;1.00000060321889;0.0138606862425759;0.000266418009857466;0.193068829037552;0.568038194888224;0.0415843642790311];
x1_step1.ymin = -1;

% Layer 1
b1 = [3.5380096976079467019;0.70136158501423107037;-0.65951114043514058594;14.378573539266506387;-6.7669371586897044679;2.520316519987982673;0.45212828027810708642;-10.830508462583681606;7.8322616838701932807;-3.0966008995262157555;-0.25035847570881425428;-0.10564323916050102903;-3.9893058679878934392;28.400166112153819142;0.16944570012156559558;31.399696128069347623;-2.4095974507611246374;-0.048346103794599026848;0.18610059401603273876;-0.47294788356400180307;-1.9097631238735441883;-0.8876002683157829809;4.819986693628898422;0.68387498011584035851;-3.3429249607231277253;-2.7004433505329714649;16.736749182919641754;4.5585912075679777544;0.70408297462613145257;-0.25208320468057010544;-3.4149183290928863954;-11.334072108170881066;-6.7073649432287973937;10.33384289724188676;0.45075442611319826991;15.528111464425142785;-2.2134651093383936882;-0.27187269383939477452;24.624213922428392465;1.9140413750056217701];
IW1_1 = [-0.26323633536175938819 0.16122362865498948703 -0.19526355243263471273 3.6053157031166445101 -8.9627904551236277086 -0.4228724882197235635 -1.634551332848129368;-4.5224663601642545174 0.38715828963732451529 1.2172412271603283429 1.4674704861971121783 4.035004095714193717 0.56786771434520411095 -6.1474020368000044101;1.0472059489545599842 -0.5079594378008750466 -0.16652139983285135783 -0.46388153192875997144 2.7099859191957484938 -0.72726068617693817586 0.80623875804028521941;-2.695891314200860478 -1.5203044219019066219 -3.5628555528128624807 13.409265629444218959 -3.1103179138476968468 6.2178561134513730124 -10.017084524666879375;23.047663069293449212 -3.8719193968884351165 0.2107611762355343088 -0.56081459627627816555 -3.2431892642352329048 -1.1020144473647077721 3.0093167938269500539;-0.57926080224687415132 -7.7253120503285135356 7.3762730348643499312 -1.6901349498013702455 11.574532249232651893 -6.8406404257885302655 3.9558553516293706309;0.26840356939466719632 -0.070785620976999558129 -1.8788082177831599839 -1.3577429572101360478 1.7706251277705911118 0.32633323271099151652 -0.092144577205217834126;-0.95892099495431259992 -8.4385638229896606788 -55.621310038880189097 -20.325196061024769278 96.466964114738914304 36.249901994319856158 7.2867107654845204578;-5.6517395481349872455 1.9068595632700460207 4.4586243959477709353 15.937243890336901586 -24.519605132917426715 -8.8237648126967069828 2.8407866835070261224;-12.240686571243369229 3.3985613103536547186 9.1186844441004240025 -0.66297304320226035923 6.2003455937990272773 6.0281424792975588645 -19.114221555152290932;3.7092287242427395277 0.85920750212832697201 0.28709890392791204139 -0.11448540476551345713 -1.1867463327198997103 0.7314570271757165898 -0.18417067173233700461;0.090651294066075277511 -0.017187238550159158329 -0.16862872673167070281 0.4453046280082060826 3.1524440527043648963 -0.0029330133056314445714 0.50507067525293714016;19.969314187638794067 -14.260422713885745338 30.382443840372232557 -5.507256560428496428 0.95264024433242200374 -4.8032696072165084189 10.616750279952222868;-37.842615535067849919 31.679603090431477597 22.531164662184963277 52.370992944543722558 -19.027555449804982146 -25.913914136046113157 -44.452670984964925083;-0.15500070692122655536 0.029746019829513477284 -0.16468085754512012953 -0.72786497295344310121 -2.8589907658498363574 0.16412788766691047138 -0.37557303609488873475;20.594124681710560765 -8.4912068856826028451 -8.0775467578739021945 -1.5463685207464985538 -30.694389562785982406 -14.48242312039501023 8.6046758528775519892;0.057772044993101248633 -0.1048107508198463933 -1.2338874398961645618 -2.6567418783270722038 11.042519196179773289 0.24241585392545067501 2.8636825666983032335;0.086559301793202952924 -0.02906434763675810537 -0.59851421278296168538 0.38818179290467047515 3.6168843341443501771 0.065644898081306302107 0.66516972816034214411;-1.6750182795666992419 1.2536926386707367698 -0.19890217590850442497 -0.4772092908009305523 -0.85316927530426522885 0.81408352959951391092 -0.41564142842750861906;6.2538751079299137459 -6.7322844981257983221 -9.1297879200828031543 -0.99415838575352477591 0.28108786478816033538 7.9031879061858383295 -9.6250836217849737864;0.16598677520110141637 -0.024928212823003639137 -0.87904620931855181887 -3.2826070901337041086 -0.67574009779874921744 -1.5326750406646172387 0.34395980086127347919;-0.84822566050821501804 0.53701798613416229511 2.0873719442873079899 0.30043128311133754371 6.3179462992595363247 0.82645449976542351145 0.025612635741751835217;21.630058625986777088 -9.4427693918892199321 23.98073962346687793 0.49894916551204604449 -6.9573042851916548912 6.9666436203815607087 -2.0036052377720223738;-0.11665108874162090358 -0.66907927337882411312 3.2539277480256938446 -2.1345396832403324971 4.3778496408798481809 -0.36751951599567556084 -1.0718968549314922267;0.062778395287444818673 0.070509977880330657052 -2.2462727116145511097 -3.4812655357710471371 0.12898490072286566965 -0.19939487386460091889 -0.33402158028339568041;5.7198765727718683394 -43.560006030785068276 6.3826461517159627235 -25.183879775579431026 -37.982904454462477872 -128.3669626286812786 127.30314506716901235;-3.5693701826546431199 1.5990586520014877792 16.534619303805701662 2.9029001996212846493 -5.3146649058103001551 1.994408541354504516 -0.92816162808939017825;-0.085677314337038262826 0.015248251600535904851 3.7180080972844788967 1.5523456733352234416 -3.924175073264489555 -0.4760996879989159436 -0.23577320892006367603;-0.12340750775026597397 -0.6620486141977296457 3.2152900673024862321 -2.0398627430140980898 4.0670638467117221637 -0.38891812865270153354 -1.1082266251332966167;-0.0060624944595649736187 -0.53243474801984080891 -1.7089035109962460446 -1.0434684251180319503 -4.6717978802966007024 -0.82900451713614553562 2.1804947363005946492;0.4630494071343736473 5.5517988404846008166 0.58696098453786160754 0.098153109554351164467 -8.1435084685248373404 3.0308740936400146992 -3.3906526505309493302;1.8660323889074932335 0.57090456355514906939 -19.083063525579976982 4.5525420660810187456 -8.4058544380132023122 1.888982568544038454 -1.603547495681507673;0.46626099296442558018 -0.12842395883830948211 -6.7481780125580037577 -1.1505553560146433156 5.9112690693277656351 1.0330946084296499521 -0.31420695226354439233;1.3514956961759734266 -1.1373609946564089412 -1.0846117939196653346 9.089913426013136899 1.9861607182254281678 -2.0290093574898198092 3.4390809555100370076;0.29249093910641554839 -0.090060293930522908323 -1.8546665338367607223 -1.2684101478508669203 1.6010314088462584969 0.26931067835172228797 -0.044587055923138198266;83.744659552434669081 -28.898410335695039919 77.562466332898594601 15.678161979168262263 -43.37934671065637815 5.4854920259174981823 57.662176678856951639;-1.9261947824985434785 2.971370468957850175 -3.1413550306645103838 2.5165123648179834603 -5.6382800266290891145 -1.1660632953196916617 -1.9434222886285468235;0.75632935645550314341 0.76787155772139459309 2.1243334528159878438 -2.0362310764763322801 1.1531695529038337167 -0.98360106501412347679 -0.31832783436288686341;0.91120808861226720854 0.67274424214837402758 -2.4352910956348434723 24.578461139368755539 0.14485196284923701482 9.1901378195959591011 -11.977808441331546874;1.7337988981677225908 -1.9808422732911863395 -1.319086958829543077 2.6548253293904564565 9.7941773658633515254 -3.4638512123990854441 4.3009020612308681564];

% Layer 2
b2 = 0.65205364701007006989;
LW2_1 = [0.25185144644427837068 0.029443876336368322855 -0.39292045236916728346 -0.040140570586362923911 0.023510535380017578977 -0.011701681774322019933 3.7410624034637232072 -0.008523651949387818505 0.015820273385707541575 -0.013963990658890488086 0.078930097923771286306 7.6294980362447137878 0.010252706706360480843 0.0022563559580807026998 3.0382994463942907259 -0.25410292897973557613 0.18074459594913364069 -3.8987021953367810845 -0.23085690850367227012 0.019677363978618713641 -0.30750356439073717185 -0.24180577365998784378 -0.0096822116289348413021 3.3597194763862394673 0.24465237451628757404 -0.0040590233732730055319 -0.11721036891998053153 -1.0048552560855841254 -3.4754164571898678027 0.095663747885864194864 0.025352416179840811528 0.069482798717617214046 -0.60893149363475052027 -0.059330006170787159825 -4.1203668058715265943 0.0018956656073689816516 -0.035169179313220839955 -0.12447803640127108604 -0.022502297646023423222 0.049789599714380274043];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00819772922900357;
y1_step1.xoffset = -2.02;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
